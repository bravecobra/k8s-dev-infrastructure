# Override of : https://github.com/bravecobra/identityserver4.admin-helm/blob/develop/src/identityserver4admin/values.yaml

seed:
  seedidentity:
    enabled: true
    defaultSeed: true
    defaultAdmin:
      password: Pa$$word123
      email: your-admin@email.com
  seedserverdata:
    enabled: true
    defaultSeed: true

certificates:
  certManager:
    enabled: true
    issuerRef:
      name: selfsigned-ca-issuer
      kind: ClusterIssuer

admin:
  protocol: https
  domainName: admin.login.k8s.local
  ssl:
    enabled: true
    secretName: identityserver4-cert-admin
  service:
    type: ClusterIP
    port: 443
  podAnnotations:
      "linkerd.io/inject": "enabled"
  ingress:
    enabled: true
    annotations:
      traefik.ingress.kubernetes.io/router.entrypoints: web, websecure
      traefik.ingress.kubernetes.io/router.middlewares: default-redirect-http@kubernetescrd
      # kubernetes.io/ingress.class: nginx
      # kubernetes.io/tls-acme: "true"
    hosts:
      - host: admin.login.k8s.local
        paths:
        - path: /
          backend:
            serviceName: identityserver4-admin
            servicePort: 443
    tls:
    - secretName: traefik-cert
      hosts:
        - admin.login.k8s.local
identity:
  protocol: https
  domainName: login.k8s.local
  ssl:
    enabled: true
    secretName: identityserver4-cert-identity
  service:
    type: ClusterIP
    port: 443
  podAnnotations:
      "linkerd.io/inject": "enabled"
  ingress:
    enabled: true
    annotations:
      traefik.ingress.kubernetes.io/router.entrypoints: web, websecure
      traefik.ingress.kubernetes.io/router.middlewares: default-redirect-http@kubernetescrd
      # kubernetes.io/ingress.class: nginx
      # kubernetes.io/tls-acme: "true"
    hosts:
      - host: login.k8s.local
        paths:
        - path: /
          backend:
            serviceName: identityserver4-identity
            servicePort: 443
    tls:
    - secretName: traefik-cert
      hosts:
        - login.k8s.local
api:
  enabled: true
  protocol: https
  domainName: api.login.k8s.local
  ssl:
    enabled: true
    secretName: identityserver4-cert-api
  service:
    type: ClusterIP
    port: 443
  podAnnotations:
      "linkerd.io/inject": "enabled"
  ingress:
    enabled: true
    annotations:
      traefik.ingress.kubernetes.io/router.entrypoints: web, websecure
      traefik.ingress.kubernetes.io/router.middlewares: default-redirect-http@kubernetescrd
      # kubernetes.io/ingress.class: nginx
      # kubernetes.io/tls-acme: "true"
    hosts:
      - host: api.login.k8s.local
        paths:
        - path: /
          backend:
            serviceName: identityserver4-api
            servicePort: 443
    tls:
    - secretName: traefik-cert
      hosts:
        - api.login.k8s.local
mssql:
  enabled: false
  auth:
    password: Toughpass1!