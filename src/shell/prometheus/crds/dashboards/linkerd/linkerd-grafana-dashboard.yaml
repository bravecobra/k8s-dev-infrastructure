apiVersion: v1
kind: ConfigMap
metadata:
  name: linkerd-grafana-dashboard
  namespace: linkerd
  labels:
    grafana_dashboard: "1"
  annotations:
    k8s-sidecar-target-directory: /tmp/dashboards/Linkerd
data:
  grafana.json: "{\r\n  \"annotations\": {\r\n    \"list\": [\r\n      {\r\n        \"builtIn\":
    1,\r\n        \"datasource\": \"-- Grafana --\",\r\n        \"enable\": true,\r\n
    \       \"hide\": true,\r\n        \"iconColor\": \"rgba(0, 211, 255, 1)\",\r\n
    \       \"name\": \"Annotations & Alerts\",\r\n        \"type\": \"dashboard\"\r\n
    \     }\r\n    ]\r\n  },\r\n  \"description\": \"Metrics about Grafana\",\r\n
    \ \"editable\": true,\r\n  \"gnetId\": null,\r\n  \"graphTooltip\": 0,\r\n  \"id\":
    null,\r\n  \"links\": [\r\n    {\r\n      \"icon\": \"external link\",\r\n      \"tags\":
    [],\r\n      \"targetBlank\": true,\r\n      \"title\": \"Available metrics\",\r\n
    \     \"type\": \"link\",\r\n      \"url\": \"/metrics\"\r\n    },\r\n    {\r\n
    \     \"icon\": \"external link\",\r\n      \"tags\": [],\r\n      \"title\":
    \"Grafana docs\",\r\n      \"type\": \"link\",\r\n      \"url\": \"http://docs.grafana.org/\"\r\n
    \   },\r\n    {\r\n      \"icon\": \"external link\",\r\n      \"tags\": [],\r\n
    \     \"title\": \"Prometheus docs\",\r\n      \"type\": \"link\",\r\n      \"url\":
    \"http://prometheus.io/docs/introduction/overview/\"\r\n    }\r\n  ],\r\n  \"panels\":
    [\r\n    {\r\n      \"cacheTimeout\": null,\r\n      \"colorBackground\": false,\r\n
    \     \"colorValue\": true,\r\n      \"colors\": [\r\n        \"rgba(222, 3, 3,
    0.9)\",\r\n        \"rgb(234, 245, 234)\",\r\n        \"rgb(235, 244, 235)\"\r\n
    \     ],\r\n      \"datasource\": \"Prometheus\",\r\n      \"decimals\": 0,\r\n
    \     \"format\": \"none\",\r\n      \"gauge\": {\r\n        \"maxValue\": 100,\r\n
    \       \"minValue\": 0,\r\n        \"show\": false,\r\n        \"thresholdLabels\":
    false,\r\n        \"thresholdMarkers\": true\r\n      },\r\n      \"gridPos\":
    {\r\n        \"h\": 5,\r\n        \"w\": 4,\r\n        \"x\": 0,\r\n        \"y\":
    0\r\n      },\r\n      \"id\": 4,\r\n      \"interval\": null,\r\n      \"links\":
    [],\r\n      \"mappingType\": 1,\r\n      \"mappingTypes\": [\r\n        {\r\n
    \         \"name\": \"value to text\",\r\n          \"value\": 1\r\n        },\r\n
    \       {\r\n          \"name\": \"range to text\",\r\n          \"value\": 2\r\n
    \       }\r\n      ],\r\n      \"maxDataPoints\": 100,\r\n      \"nullPointMode\":
    \"connected\",\r\n      \"nullText\": null,\r\n      \"options\": {},\r\n      \"postfix\":
    \"\",\r\n      \"postfixFontSize\": \"50%\",\r\n      \"prefix\": \"\",\r\n      \"prefixFontSize\":
    \"50%\",\r\n      \"rangeMaps\": [\r\n        {\r\n          \"from\": \"null\",\r\n
    \         \"text\": \"N/A\",\r\n          \"to\": \"null\"\r\n        }\r\n      ],\r\n
    \     \"sparkline\": {\r\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\r\n
    \       \"full\": false,\r\n        \"lineColor\": \"rgb(31, 120, 193)\",\r\n
    \       \"show\": false\r\n      },\r\n      \"tableColumn\": \"\",\r\n      \"targets\":
    [\r\n        {\r\n          \"expr\": \"up{job=\\\"grafana\\\"}\",\r\n          \"format\":
    \"time_series\",\r\n          \"instant\": true,\r\n          \"intervalFactor\":
    2,\r\n          \"refId\": \"A\",\r\n          \"step\": 60\r\n        }\r\n      ],\r\n
    \     \"thresholds\": \"1, 10000\",\r\n      \"title\": \"Active instances\",\r\n
    \     \"type\": \"singlestat\",\r\n      \"valueFontSize\": \"120%\",\r\n      \"valueMaps\":
    [\r\n        {\r\n          \"op\": \"=\",\r\n          \"text\": \":(\",\r\n
    \         \"value\": \"0\"\r\n        }\r\n      ],\r\n      \"valueName\": \"avg\"\r\n
    \   },\r\n    {\r\n      \"cacheTimeout\": null,\r\n      \"colorBackground\":
    false,\r\n      \"colorValue\": false,\r\n      \"colors\": [\r\n        \"rgba(245,
    54, 54, 0.9)\",\r\n        \"rgba(237, 129, 40, 0.89)\",\r\n        \"rgba(50,
    172, 45, 0.97)\"\r\n      ],\r\n      \"datasource\": \"Prometheus\",\r\n      \"format\":
    \"none\",\r\n      \"gauge\": {\r\n        \"maxValue\": 100,\r\n        \"minValue\":
    0,\r\n        \"show\": false,\r\n        \"thresholdLabels\": false,\r\n        \"thresholdMarkers\":
    true\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 5,\r\n        \"w\":
    4,\r\n        \"x\": 4,\r\n        \"y\": 0\r\n      },\r\n      \"id\": 8,\r\n
    \     \"interval\": null,\r\n      \"links\": [],\r\n      \"mappingType\": 1,\r\n
    \     \"mappingTypes\": [\r\n        {\r\n          \"name\": \"value to text\",\r\n
    \         \"value\": 1\r\n        },\r\n        {\r\n          \"name\": \"range
    to text\",\r\n          \"value\": 2\r\n        }\r\n      ],\r\n      \"maxDataPoints\":
    100,\r\n      \"nullPointMode\": \"connected\",\r\n      \"nullText\": null,\r\n
    \     \"options\": {},\r\n      \"postfix\": \"\",\r\n      \"postfixFontSize\":
    \"50%\",\r\n      \"prefix\": \"\",\r\n      \"prefixFontSize\": \"50%\",\r\n
    \     \"rangeMaps\": [\r\n        {\r\n          \"from\": \"null\",\r\n          \"text\":
    \"N/A\",\r\n          \"to\": \"null\"\r\n        }\r\n      ],\r\n      \"sparkline\":
    {\r\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\r\n        \"full\":
    false,\r\n        \"lineColor\": \"rgb(31, 120, 193)\",\r\n        \"show\": false\r\n
    \     },\r\n      \"tableColumn\": \"\",\r\n      \"targets\": [\r\n        {\r\n
    \         \"expr\": \"grafana_stat_totals_dashboard\",\r\n          \"format\":
    \"time_series\",\r\n          \"instant\": true,\r\n          \"intervalFactor\":
    2,\r\n          \"refId\": \"A\",\r\n          \"step\": 60\r\n        }\r\n      ],\r\n
    \     \"thresholds\": \"\",\r\n      \"title\": \"Dashboard count\",\r\n      \"type\":
    \"singlestat\",\r\n      \"valueFontSize\": \"120%\",\r\n      \"valueMaps\":
    [\r\n        {\r\n          \"op\": \"=\",\r\n          \"text\": \"N/A\",\r\n
    \         \"value\": \"null\"\r\n        }\r\n      ],\r\n      \"valueName\":
    \"avg\"\r\n    },\r\n    {\r\n      \"cacheTimeout\": null,\r\n      \"colorBackground\":
    false,\r\n      \"colorValue\": false,\r\n      \"colors\": [\r\n        \"rgba(245,
    54, 54, 0.9)\",\r\n        \"rgba(237, 129, 40, 0.89)\",\r\n        \"rgba(50,
    172, 45, 0.97)\"\r\n      ],\r\n      \"datasource\": \"Prometheus\",\r\n      \"format\":
    \"none\",\r\n      \"gauge\": {\r\n        \"maxValue\": 100,\r\n        \"minValue\":
    0,\r\n        \"show\": false,\r\n        \"thresholdLabels\": false,\r\n        \"thresholdMarkers\":
    true\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 5,\r\n        \"w\":
    4,\r\n        \"x\": 8,\r\n        \"y\": 0\r\n      },\r\n      \"id\": 9,\r\n
    \     \"interval\": null,\r\n      \"links\": [],\r\n      \"mappingType\": 1,\r\n
    \     \"mappingTypes\": [\r\n        {\r\n          \"name\": \"value to text\",\r\n
    \         \"value\": 1\r\n        },\r\n        {\r\n          \"name\": \"range
    to text\",\r\n          \"value\": 2\r\n        }\r\n      ],\r\n      \"maxDataPoints\":
    100,\r\n      \"nullPointMode\": \"connected\",\r\n      \"nullText\": null,\r\n
    \     \"options\": {},\r\n      \"postfix\": \"\",\r\n      \"postfixFontSize\":
    \"50%\",\r\n      \"prefix\": \"\",\r\n      \"prefixFontSize\": \"50%\",\r\n
    \     \"rangeMaps\": [\r\n        {\r\n          \"from\": \"null\",\r\n          \"text\":
    \"N/A\",\r\n          \"to\": \"null\"\r\n        }\r\n      ],\r\n      \"sparkline\":
    {\r\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\r\n        \"full\":
    false,\r\n        \"lineColor\": \"rgb(31, 120, 193)\",\r\n        \"show\": false\r\n
    \     },\r\n      \"tableColumn\": \"\",\r\n      \"targets\": [\r\n        {\r\n
    \         \"expr\": \"grafana_stat_total_users\",\r\n          \"format\": \"time_series\",\r\n
    \         \"instant\": true,\r\n          \"intervalFactor\": 2,\r\n          \"refId\":
    \"A\",\r\n          \"step\": 60\r\n        }\r\n      ],\r\n      \"thresholds\":
    \"\",\r\n      \"title\": \"User count\",\r\n      \"type\": \"singlestat\",\r\n
    \     \"valueFontSize\": \"120%\",\r\n      \"valueMaps\": [\r\n        {\r\n
    \         \"op\": \"=\",\r\n          \"text\": \"N/A\",\r\n          \"value\":
    \"null\"\r\n        }\r\n      ],\r\n      \"valueName\": \"avg\"\r\n    },\r\n
    \   {\r\n      \"cacheTimeout\": null,\r\n      \"colorBackground\": false,\r\n
    \     \"colorValue\": false,\r\n      \"colors\": [\r\n        \"rgba(245, 54,
    54, 0.9)\",\r\n        \"rgba(237, 129, 40, 0.89)\",\r\n        \"rgba(50, 172,
    45, 0.97)\"\r\n      ],\r\n      \"datasource\": \"Prometheus\",\r\n      \"format\":
    \"none\",\r\n      \"gauge\": {\r\n        \"maxValue\": 100,\r\n        \"minValue\":
    0,\r\n        \"show\": false,\r\n        \"thresholdLabels\": false,\r\n        \"thresholdMarkers\":
    true\r\n      },\r\n      \"gridPos\": {\r\n        \"h\": 5,\r\n        \"w\":
    4,\r\n        \"x\": 12,\r\n        \"y\": 0\r\n      },\r\n      \"id\": 10,\r\n
    \     \"interval\": null,\r\n      \"links\": [],\r\n      \"mappingType\": 1,\r\n
    \     \"mappingTypes\": [\r\n        {\r\n          \"name\": \"value to text\",\r\n
    \         \"value\": 1\r\n        },\r\n        {\r\n          \"name\": \"range
    to text\",\r\n          \"value\": 2\r\n        }\r\n      ],\r\n      \"maxDataPoints\":
    100,\r\n      \"nullPointMode\": \"connected\",\r\n      \"nullText\": null,\r\n
    \     \"options\": {},\r\n      \"postfix\": \"\",\r\n      \"postfixFontSize\":
    \"50%\",\r\n      \"prefix\": \"\",\r\n      \"prefixFontSize\": \"50%\",\r\n
    \     \"rangeMaps\": [\r\n        {\r\n          \"from\": \"null\",\r\n          \"text\":
    \"N/A\",\r\n          \"to\": \"null\"\r\n        }\r\n      ],\r\n      \"sparkline\":
    {\r\n        \"fillColor\": \"rgba(31, 118, 189, 0.18)\",\r\n        \"full\":
    false,\r\n        \"lineColor\": \"rgb(31, 120, 193)\",\r\n        \"show\": false\r\n
    \     },\r\n      \"tableColumn\": \"\",\r\n      \"targets\": [\r\n        {\r\n
    \         \"expr\": \"grafana_stat_total_playlists\",\r\n          \"format\":
    \"time_series\",\r\n          \"instant\": true,\r\n          \"intervalFactor\":
    2,\r\n          \"refId\": \"A\",\r\n          \"step\": 60\r\n        }\r\n      ],\r\n
    \     \"thresholds\": \"\",\r\n      \"title\": \"Playlist count\",\r\n      \"type\":
    \"singlestat\",\r\n      \"valueFontSize\": \"120%\",\r\n      \"valueMaps\":
    [\r\n        {\r\n          \"op\": \"=\",\r\n          \"text\": \"N/A\",\r\n
    \         \"value\": \"null\"\r\n        }\r\n      ],\r\n      \"valueName\":
    \"avg\"\r\n    },\r\n    {\r\n      \"columns\": [],\r\n      \"datasource\":
    \"Prometheus\",\r\n      \"fontSize\": \"100%\",\r\n      \"gridPos\": {\r\n        \"h\":
    5,\r\n        \"w\": 4,\r\n        \"x\": 16,\r\n        \"y\": 0\r\n      },\r\n
    \     \"id\": 17,\r\n      \"links\": [],\r\n      \"options\": {},\r\n      \"pageSize\":
    null,\r\n      \"scroll\": false,\r\n      \"showHeader\": true,\r\n      \"sort\":
    {\r\n        \"col\": 0,\r\n        \"desc\": true\r\n      },\r\n      \"styles\":
    [\r\n        {\r\n          \"alias\": \"Time\",\r\n          \"dateFormat\":
    \"YYYY-MM-DD HH:mm:ss\",\r\n          \"link\": false,\r\n          \"pattern\":
    \"Time\",\r\n          \"type\": \"hidden\"\r\n        },\r\n        {\r\n          \"alias\":
    \"\",\r\n          \"colorMode\": null,\r\n          \"colors\": [\r\n            \"rgba(245,
    54, 54, 0.9)\",\r\n            \"rgba(237, 129, 40, 0.89)\",\r\n            \"rgba(50,
    172, 45, 0.97)\"\r\n          ],\r\n          \"decimals\": 0,\r\n          \"pattern\":
    \"/.*/\",\r\n          \"thresholds\": [],\r\n          \"type\": \"number\",\r\n
    \         \"unit\": \"short\"\r\n        }\r\n      ],\r\n      \"targets\": [\r\n
    \       {\r\n          \"expr\": \"topk(1, grafana_info)\",\r\n          \"format\":
    \"time_series\",\r\n          \"instant\": true,\r\n          \"intervalFactor\":
    2,\r\n          \"legendFormat\": \"{{version}}\",\r\n          \"refId\": \"A\",\r\n
    \         \"step\": 20\r\n        }\r\n      ],\r\n      \"title\": \"Grafana
    version\",\r\n      \"transform\": \"timeseries_to_rows\",\r\n      \"type\":
    \"table\"\r\n    },\r\n    {\r\n      \"content\": \"<br />\\n<br />\\n<center>\\n<img
    src=\\\"public/img/grafana_icon.svg\\\"  style=\\\"height: 60px;\\\">\\n<span
    style=\\\"color: red;font-size:3rem;line-height: 2rem;\\\">\U0001F496</span>\\n<img
    src=\\\"public/app/plugins/datasource/prometheus/img/prometheus_logo.svg\\\" alt=\\\"Prometheus
    logo\\\" style=\\\"height: 60px;\\\">\\n</center>\",\r\n      \"gridPos\": {\r\n
    \       \"h\": 5,\r\n        \"w\": 4,\r\n        \"x\": 20,\r\n        \"y\":
    0\r\n      },\r\n      \"id\": 16,\r\n      \"links\": [],\r\n      \"mode\":
    \"html\",\r\n      \"options\": {},\r\n      \"title\": \"\",\r\n      \"transparent\":
    true,\r\n      \"type\": \"text\"\r\n    },\r\n    {\r\n      \"aliasColors\":
    {\r\n        \"400\": \"#447EBC\",\r\n        \"500\": \"#BF1B00\"\r\n      },\r\n
    \     \"bars\": false,\r\n      \"dashLength\": 10,\r\n      \"dashes\": false,\r\n
    \     \"datasource\": \"Prometheus\",\r\n      \"fill\": 1,\r\n      \"gridPos\":
    {\r\n        \"h\": 10,\r\n        \"w\": 10,\r\n        \"x\": 0,\r\n        \"y\":
    5\r\n      },\r\n      \"height\": \"\",\r\n      \"id\": 15,\r\n      \"legend\":
    {\r\n        \"avg\": false,\r\n        \"current\": false,\r\n        \"max\":
    false,\r\n        \"min\": false,\r\n        \"show\": true,\r\n        \"total\":
    false,\r\n        \"values\": false\r\n      },\r\n      \"lines\": true,\r\n
    \     \"linewidth\": 2,\r\n      \"links\": [],\r\n      \"nullPointMode\": \"null
    as zero\",\r\n      \"options\": {},\r\n      \"percentage\": false,\r\n      \"pointradius\":
    5,\r\n      \"points\": false,\r\n      \"renderer\": \"flot\",\r\n      \"seriesOverrides\":
    [\r\n        {}\r\n      ],\r\n      \"spaceLength\": 10,\r\n      \"stack\":
    false,\r\n      \"steppedLine\": false,\r\n      \"targets\": [\r\n        {\r\n
    \         \"expr\": \"sum by (statuscode) (irate(http_request_total{job='grafana'}[5m]))\",\r\n
    \         \"format\": \"time_series\",\r\n          \"intervalFactor\": 3,\r\n
    \         \"legendFormat\": \"{{statuscode}}\",\r\n          \"refId\": \"B\",\r\n
    \         \"step\": 15,\r\n          \"target\": \"dev.grafana.cb-office.alerting.active_alerts\"\r\n
    \       }\r\n      ],\r\n      \"thresholds\": [],\r\n      \"timeFrom\": null,\r\n
    \     \"timeRegions\": [],\r\n      \"timeShift\": null,\r\n      \"title\": \"http
    status codes\",\r\n      \"tooltip\": {\r\n        \"shared\": true,\r\n        \"sort\":
    0,\r\n        \"value_type\": \"individual\"\r\n      },\r\n      \"type\": \"graph\",\r\n
    \     \"xaxis\": {\r\n        \"buckets\": null,\r\n        \"mode\": \"time\",\r\n
    \       \"name\": null,\r\n        \"show\": true,\r\n        \"values\": []\r\n
    \     },\r\n      \"yaxes\": [\r\n        {\r\n          \"format\": \"short\",\r\n
    \         \"label\": null,\r\n          \"logBase\": 1,\r\n          \"max\":
    null,\r\n          \"min\": null,\r\n          \"show\": true\r\n        },\r\n
    \       {\r\n          \"format\": \"short\",\r\n          \"label\": null,\r\n
    \         \"logBase\": 1,\r\n          \"max\": null,\r\n          \"min\": null,\r\n
    \         \"show\": true\r\n        }\r\n      ],\r\n      \"yaxis\": {\r\n        \"align\":
    false,\r\n        \"alignLevel\": null\r\n      }\r\n    },\r\n    {\r\n      \"aliasColors\":
    {\r\n        \"400\": \"#447EBC\",\r\n        \"500\": \"#BF1B00\"\r\n      },\r\n
    \     \"bars\": false,\r\n      \"dashLength\": 10,\r\n      \"dashes\": false,\r\n
    \     \"datasource\": \"Prometheus\",\r\n      \"fill\": 1,\r\n      \"gridPos\":
    {\r\n        \"h\": 10,\r\n        \"w\": 10,\r\n        \"x\": 10,\r\n        \"y\":
    5\r\n      },\r\n      \"height\": \"\",\r\n      \"id\": 11,\r\n      \"legend\":
    {\r\n        \"avg\": false,\r\n        \"current\": false,\r\n        \"max\":
    false,\r\n        \"min\": false,\r\n        \"show\": true,\r\n        \"total\":
    false,\r\n        \"values\": false\r\n      },\r\n      \"lines\": true,\r\n
    \     \"linewidth\": 2,\r\n      \"links\": [],\r\n      \"nullPointMode\": \"null
    as zero\",\r\n      \"options\": {},\r\n      \"percentage\": false,\r\n      \"pointradius\":
    5,\r\n      \"points\": false,\r\n      \"renderer\": \"flot\",\r\n      \"seriesOverrides\":
    [\r\n        {}\r\n      ],\r\n      \"spaceLength\": 10,\r\n      \"stack\":
    false,\r\n      \"steppedLine\": false,\r\n      \"targets\": [\r\n        {\r\n
    \         \"expr\": \"sum(irate(grafana_api_response_status_total[5m]))\",\r\n
    \         \"format\": \"time_series\",\r\n          \"intervalFactor\": 4,\r\n
    \         \"legendFormat\": \"api\",\r\n          \"refId\": \"A\",\r\n          \"step\":
    20\r\n        },\r\n        {\r\n          \"expr\": \"sum(irate(grafana_proxy_response_status_total[5m]))\",\r\n
    \         \"format\": \"time_series\",\r\n          \"intervalFactor\": 4,\r\n
    \         \"legendFormat\": \"proxy\",\r\n          \"refId\": \"B\",\r\n          \"step\":
    20\r\n        },\r\n        {\r\n          \"expr\": \"sum(irate(grafana_page_response_status_total[5m]))\",\r\n
    \         \"format\": \"time_series\",\r\n          \"intervalFactor\": 4,\r\n
    \         \"legendFormat\": \"web\",\r\n          \"refId\": \"C\",\r\n          \"step\":
    20\r\n        }\r\n      ],\r\n      \"thresholds\": [],\r\n      \"timeFrom\":
    null,\r\n      \"timeRegions\": [],\r\n      \"timeShift\": null,\r\n      \"title\":
    \"Requests by routing group\",\r\n      \"tooltip\": {\r\n        \"shared\":
    true,\r\n        \"sort\": 0,\r\n        \"value_type\": \"individual\"\r\n      },\r\n
    \     \"type\": \"graph\",\r\n      \"xaxis\": {\r\n        \"buckets\": null,\r\n
    \       \"mode\": \"time\",\r\n        \"name\": null,\r\n        \"show\": true,\r\n
    \       \"values\": []\r\n      },\r\n      \"yaxes\": [\r\n        {\r\n          \"format\":
    \"short\",\r\n          \"label\": null,\r\n          \"logBase\": 1,\r\n          \"max\":
    null,\r\n          \"min\": null,\r\n          \"show\": true\r\n        },\r\n
    \       {\r\n          \"format\": \"short\",\r\n          \"label\": null,\r\n
    \         \"logBase\": 1,\r\n          \"max\": null,\r\n          \"min\": null,\r\n
    \         \"show\": true\r\n        }\r\n      ],\r\n      \"yaxis\": {\r\n        \"align\":
    false,\r\n        \"alignLevel\": null\r\n      }\r\n    },\r\n    {\r\n      \"columns\":
    [],\r\n      \"datasource\": \"Prometheus\",\r\n      \"fontSize\": \"100%\",\r\n
    \     \"gridPos\": {\r\n        \"h\": 10,\r\n        \"w\": 4,\r\n        \"x\":
    20,\r\n        \"y\": 5\r\n      },\r\n      \"height\": \"\",\r\n      \"id\":
    12,\r\n      \"links\": [],\r\n      \"options\": {},\r\n      \"pageSize\": null,\r\n
    \     \"scroll\": true,\r\n      \"showHeader\": true,\r\n      \"sort\": {\r\n
    \       \"col\": 0,\r\n        \"desc\": true\r\n      },\r\n      \"styles\":
    [\r\n        {\r\n          \"alias\": \"Time\",\r\n          \"dateFormat\":
    \"YYYY-MM-DD HH:mm:ss\",\r\n          \"link\": false,\r\n          \"pattern\":
    \"Time\",\r\n          \"type\": \"hidden\"\r\n        },\r\n        {\r\n          \"alias\":
    \"\",\r\n          \"colorMode\": null,\r\n          \"colors\": [\r\n            \"rgba(245,
    54, 54, 0.9)\",\r\n            \"rgba(237, 129, 40, 0.89)\",\r\n            \"rgba(50,
    172, 45, 0.97)\"\r\n          ],\r\n          \"decimals\": 0,\r\n          \"pattern\":
    \"/.*/\",\r\n          \"thresholds\": [],\r\n          \"type\": \"number\",\r\n
    \         \"unit\": \"short\"\r\n        }\r\n      ],\r\n      \"targets\": [\r\n
    \       {\r\n          \"expr\": \"sort(topk(8, sum by (handler) (http_request_total{job=\\\"grafana\\\"})))\",\r\n
    \         \"format\": \"time_series\",\r\n          \"instant\": true,\r\n          \"intervalFactor\":
    10,\r\n          \"legendFormat\": \"{{handler}}\",\r\n          \"refId\": \"A\",\r\n
    \         \"step\": 100\r\n        }\r\n      ],\r\n      \"title\": \"Most used
    handlers\",\r\n      \"transform\": \"timeseries_to_rows\",\r\n      \"type\":
    \"table\"\r\n    },\r\n    {\r\n      \"aliasColors\": {\r\n        \"alerting\":
    \"#890F02\",\r\n        \"ok\": \"#7EB26D\"\r\n      },\r\n      \"bars\": false,\r\n
    \     \"dashLength\": 10,\r\n      \"dashes\": false,\r\n      \"datasource\":
    \"Prometheus\",\r\n      \"fill\": 1,\r\n      \"gridPos\": {\r\n        \"h\":
    5,\r\n        \"w\": 12,\r\n        \"x\": 0,\r\n        \"y\": 15\r\n      },\r\n
    \     \"id\": 6,\r\n      \"legend\": {\r\n        \"avg\": false,\r\n        \"current\":
    false,\r\n        \"max\": false,\r\n        \"min\": false,\r\n        \"show\":
    true,\r\n        \"total\": false,\r\n        \"values\": false\r\n      },\r\n
    \     \"lines\": true,\r\n      \"linewidth\": 2,\r\n      \"links\": [],\r\n
    \     \"nullPointMode\": \"null\",\r\n      \"options\": {},\r\n      \"percentage\":
    false,\r\n      \"pointradius\": 5,\r\n      \"points\": false,\r\n      \"renderer\":
    \"flot\",\r\n      \"seriesOverrides\": [],\r\n      \"spaceLength\": 10,\r\n
    \     \"stack\": true,\r\n      \"steppedLine\": false,\r\n      \"targets\":
    [\r\n        {\r\n          \"expr\": \"increase(grafana_alerting_active_alerts[1m])\",\r\n
    \         \"format\": \"time_series\",\r\n          \"intervalFactor\": 3,\r\n
    \         \"legendFormat\": \"{{state}}\",\r\n          \"refId\": \"A\",\r\n
    \         \"step\": 15\r\n        }\r\n      ],\r\n      \"thresholds\": [],\r\n
    \     \"timeFrom\": null,\r\n      \"timeRegions\": [],\r\n      \"timeShift\":
    null,\r\n      \"title\": \"Grafana active alerts\",\r\n      \"tooltip\": {\r\n
    \       \"shared\": true,\r\n        \"sort\": 0,\r\n        \"value_type\": \"individual\"\r\n
    \     },\r\n      \"type\": \"graph\",\r\n      \"xaxis\": {\r\n        \"buckets\":
    null,\r\n        \"mode\": \"time\",\r\n        \"name\": null,\r\n        \"show\":
    true,\r\n        \"values\": []\r\n      },\r\n      \"yaxes\": [\r\n        {\r\n
    \         \"format\": \"short\",\r\n          \"label\": null,\r\n          \"logBase\":
    1,\r\n          \"max\": null,\r\n          \"min\": null,\r\n          \"show\":
    true\r\n        },\r\n        {\r\n          \"format\": \"short\",\r\n          \"label\":
    null,\r\n          \"logBase\": 1,\r\n          \"max\": null,\r\n          \"min\":
    null,\r\n          \"show\": true\r\n        }\r\n      ],\r\n      \"yaxis\":
    {\r\n        \"align\": false,\r\n        \"alignLevel\": null\r\n      }\r\n
    \   },\r\n    {\r\n      \"aliasColors\": {\r\n        \"alerting\": \"#890F02\",\r\n
    \       \"alertname\": \"#BF1B00\",\r\n        \"firing alerts\": \"#BF1B00\",\r\n
    \       \"ok\": \"#7EB26D\"\r\n      },\r\n      \"bars\": false,\r\n      \"dashLength\":
    10,\r\n      \"dashes\": false,\r\n      \"datasource\": \"Prometheus\",\r\n      \"fill\":
    1,\r\n      \"gridPos\": {\r\n        \"h\": 5,\r\n        \"w\": 12,\r\n        \"x\":
    12,\r\n        \"y\": 15\r\n      },\r\n      \"id\": 18,\r\n      \"legend\":
    {\r\n        \"avg\": false,\r\n        \"current\": false,\r\n        \"max\":
    false,\r\n        \"min\": false,\r\n        \"show\": true,\r\n        \"total\":
    false,\r\n        \"values\": false\r\n      },\r\n      \"lines\": true,\r\n
    \     \"linewidth\": 2,\r\n      \"links\": [],\r\n      \"nullPointMode\": \"null\",\r\n
    \     \"options\": {},\r\n      \"percentage\": false,\r\n      \"pointradius\":
    5,\r\n      \"points\": false,\r\n      \"renderer\": \"flot\",\r\n      \"seriesOverrides\":
    [\r\n        {\r\n          \"alias\": \"Firing alerts\",\r\n          \"yaxis\":
    1\r\n        }\r\n      ],\r\n      \"spaceLength\": 10,\r\n      \"stack\": false,\r\n
    \     \"steppedLine\": false,\r\n      \"targets\": [\r\n        {\r\n          \"expr\":
    \" sum (ALERTS)\",\r\n          \"format\": \"time_series\",\r\n          \"intervalFactor\":
    3,\r\n          \"legendFormat\": \"firing alerts\",\r\n          \"refId\": \"A\",\r\n
    \         \"step\": 15\r\n        }\r\n      ],\r\n      \"thresholds\": [],\r\n
    \     \"timeFrom\": null,\r\n      \"timeRegions\": [],\r\n      \"timeShift\":
    null,\r\n      \"title\": \"Prometheus alerts\",\r\n      \"tooltip\": {\r\n        \"shared\":
    true,\r\n        \"sort\": 0,\r\n        \"value_type\": \"individual\"\r\n      },\r\n
    \     \"type\": \"graph\",\r\n      \"xaxis\": {\r\n        \"buckets\": null,\r\n
    \       \"mode\": \"time\",\r\n        \"name\": null,\r\n        \"show\": true,\r\n
    \       \"values\": []\r\n      },\r\n      \"yaxes\": [\r\n        {\r\n          \"format\":
    \"short\",\r\n          \"label\": null,\r\n          \"logBase\": 1,\r\n          \"max\":
    null,\r\n          \"min\": null,\r\n          \"show\": true\r\n        },\r\n
    \       {\r\n          \"format\": \"short\",\r\n          \"label\": null,\r\n
    \         \"logBase\": 1,\r\n          \"max\": null,\r\n          \"min\": null,\r\n
    \         \"show\": true\r\n        }\r\n      ],\r\n      \"yaxis\": {\r\n        \"align\":
    false,\r\n        \"alignLevel\": null\r\n      }\r\n    },\r\n    {\r\n      \"aliasColors\":
    {},\r\n      \"bars\": false,\r\n      \"dashLength\": 10,\r\n      \"dashes\":
    false,\r\n      \"datasource\": \"Prometheus\",\r\n      \"description\": \"Aggregated
    over all Grafana nodes.\",\r\n      \"fill\": 1,\r\n      \"gridPos\": {\r\n        \"h\":
    7,\r\n        \"w\": 24,\r\n        \"x\": 0,\r\n        \"y\": 20\r\n      },\r\n
    \     \"id\": 7,\r\n      \"legend\": {\r\n        \"avg\": false,\r\n        \"current\":
    false,\r\n        \"max\": false,\r\n        \"min\": false,\r\n        \"show\":
    true,\r\n        \"total\": false,\r\n        \"values\": false\r\n      },\r\n
    \     \"lines\": true,\r\n      \"linewidth\": 2,\r\n      \"links\": [],\r\n
    \     \"nullPointMode\": \"null\",\r\n      \"options\": {},\r\n      \"percentage\":
    false,\r\n      \"pointradius\": 5,\r\n      \"points\": false,\r\n      \"renderer\":
    \"flot\",\r\n      \"seriesOverrides\": [\r\n        {\r\n          \"alias\":
    \"avg gc duration\",\r\n          \"yaxis\": 2\r\n        },\r\n        {\r\n
    \         \"alias\": \"127.0.0.1:3000\",\r\n          \"yaxis\": 1\r\n        },\r\n
    \       {\r\n          \"alias\": \"allocated memory\",\r\n          \"yaxis\":
    2\r\n        },\r\n        {\r\n          \"alias\": \"used memory\",\r\n          \"yaxis\":
    2\r\n        },\r\n        {\r\n          \"alias\": \"memory usage\",\r\n          \"yaxis\":
    2\r\n        }\r\n      ],\r\n      \"spaceLength\": 10,\r\n      \"stack\": false,\r\n
    \     \"steppedLine\": false,\r\n      \"targets\": [\r\n        {\r\n          \"expr\":
    \"sum(go_goroutines{job=\\\"grafana\\\"})\",\r\n          \"format\": \"time_series\",\r\n
    \         \"hide\": false,\r\n          \"intervalFactor\": 4,\r\n          \"legendFormat\":
    \"go routines\",\r\n          \"refId\": \"A\",\r\n          \"step\": 8,\r\n
    \         \"target\": \"select metric\",\r\n          \"type\": \"timeserie\"\r\n
    \       },\r\n        {\r\n          \"expr\": \"sum(process_resident_memory_bytes{job=\\\"grafana\\\"})\",\r\n
    \         \"format\": \"time_series\",\r\n          \"intervalFactor\": 4,\r\n
    \         \"legendFormat\": \"memory usage\",\r\n          \"refId\": \"B\",\r\n
    \         \"step\": 8\r\n        }\r\n      ],\r\n      \"thresholds\": [],\r\n
    \     \"timeFrom\": null,\r\n      \"timeRegions\": [],\r\n      \"timeShift\":
    null,\r\n      \"title\": \"Grafana performance\",\r\n      \"tooltip\": {\r\n
    \       \"shared\": true,\r\n        \"sort\": 0,\r\n        \"value_type\": \"individual\"\r\n
    \     },\r\n      \"type\": \"graph\",\r\n      \"xaxis\": {\r\n        \"buckets\":
    null,\r\n        \"mode\": \"time\",\r\n        \"name\": null,\r\n        \"show\":
    true,\r\n        \"values\": []\r\n      },\r\n      \"yaxes\": [\r\n        {\r\n
    \         \"format\": \"short\",\r\n          \"label\": null,\r\n          \"logBase\":
    1,\r\n          \"max\": null,\r\n          \"min\": null,\r\n          \"show\":
    true\r\n        },\r\n        {\r\n          \"format\": \"decbytes\",\r\n          \"label\":
    null,\r\n          \"logBase\": 1,\r\n          \"max\": null,\r\n          \"min\":
    null,\r\n          \"show\": true\r\n        }\r\n      ],\r\n      \"yaxis\":
    {\r\n        \"align\": false,\r\n        \"alignLevel\": null\r\n      }\r\n
    \   },\r\n    {\r\n      \"content\": \"<div>\\n  <div style=\\\"position: absolute;
    top: 0, left: 0\\\">\\n    <a href=\\\"https://linkerd.io\\\" target=\\\"_blank\\\"><img
    src=\\\"https://linkerd.io/images/identity/svg/linkerd_primary_color_white.svg\\\"
    style=\\\"height: 30px;\\\"></a>\\n  </div>\\n  <div id=\\\"version\\\" style=\\\"position:
    absolute; top: 0; right: 0; font-size: 15px\\\">\\n  </div>\\n</div>\\n<script
    type=\\\"text/javascript\\\">\\nvar localReqURL =\\n  window.location.href.substring(\\n
    \   0,\\n    window.location.href.indexOf(\\n    \\\"/grafana/\\\"\\n    )\\n
    \ )+'/overview';\\n\\nfetch(localReqURL, {\\n  credentials: 'include',\\n  headers:
    {\\n    \\\"Content-Type\\\": \\\"text/html; charset=utf-8\\\",\\n  },\\n})\\n.then(response
    => response.text())\\n.then(text => (new window.DOMParser()).parseFromString(text,
    \\\"text/html\\\"))\\n.then(html => {\\n  var main = html.getElementById('main');\\n
    \ var localVersion = main.getAttribute(\\\"data-release-version\\\");\\n  var
    versionElem = document.getElementById('version');\\n\\n  var channel;\\n  var
    parts = localVersion.split(\\\"-\\\", 2);\\n  if (parts.length === 2) {\\n    channel
    = parts[0];\\n    versionElem.innerHTML += 'Running Linkerd ' + parts[1] + ' ('
    + parts[0] + ')' + '.<br>';\\n  } else {\\n    versionElem.innerHTML += 'Running
    Linkerd ' + localVersion + '.<br>';\\n  }\\n  var uuid = main.getAttribute(\\\"data-uuid\\\");\\n\\n
    \ fetch('https://versioncheck.linkerd.io/version.json?version='+localVersion+'&uuid='+uuid+'&source=grafana',
    {\\n    credentials: 'include',\\n    headers: {\\n      \\\"Content-Type\\\":
    \\\"application/json; charset=utf-8\\\",\\n    },\\n  })\\n  .then(response =>
    response.json())\\n  .then(json => {\\n    if (!channel || !json[channel]) {\\n
    \     versionElem.innerHTML += 'Version check failed.'\\n    } else if (json[channel]
    === localVersion) {\\n      versionElem.innerHTML += 'Linkerd is up to date.';\\n
    \   } else {\\n      parts = json[channel].split(\\\"-\\\", 2);\\n      if (parts.length
    === 2) {\\n        versionElem.innerHTML += \\\"A new \\\"+parts[0]+\\\" version
    (\\\"+parts[1]+\\\") is available.\\\"\\n      } else {\\n        versionElem.innerHTML
    += \\\"A new version (\\\"+json[channel]+\\\") is available.\\\"\\n      }\\n
    \     versionElem.innerHTML += \\\" <a href='https://versioncheck.linkerd.io/update'
    target='_blank'>Update now</a>.\\\";\\n    }\\n  });\\n});\\n</script>\",\r\n
    \     \"gridPos\": {\r\n        \"h\": 3,\r\n        \"w\": 24,\r\n        \"x\":
    0,\r\n        \"y\": 27\r\n      },\r\n      \"height\": \"1px\",\r\n      \"id\":
    171,\r\n      \"links\": [],\r\n      \"mode\": \"html\",\r\n      \"options\":
    {},\r\n      \"title\": \"\",\r\n      \"transparent\": true,\r\n      \"type\":
    \"text\"\r\n    }\r\n  ],\r\n  \"revision\": \"1.0\",\r\n  \"schemaVersion\":
    18,\r\n  \"style\": \"dark\",\r\n  \"tags\": [\r\n    \"grafana\",\r\n    \"prometheus\"\r\n
    \ ],\r\n  \"templating\": {\r\n    \"list\": []\r\n  },\r\n  \"time\": {\r\n    \"from\":
    \"now-6h\",\r\n    \"to\": \"now\"\r\n  },\r\n  \"timepicker\": {\r\n    \"refresh_intervals\":
    [\r\n      \"5s\",\r\n      \"10s\",\r\n      \"30s\",\r\n      \"1m\",\r\n      \"5m\",\r\n
    \     \"15m\",\r\n      \"30m\",\r\n      \"1h\",\r\n      \"2h\",\r\n      \"1d\"\r\n
    \   ],\r\n    \"time_options\": [\r\n      \"5m\",\r\n      \"15m\",\r\n      \"1h\",\r\n
    \     \"6h\",\r\n      \"12h\",\r\n      \"24h\",\r\n      \"2d\",\r\n      \"7d\",\r\n
    \     \"30d\"\r\n    ]\r\n  },\r\n  \"timezone\": \"\",\r\n  \"title\": \"Grafana
    metrics\",\r\n  \"uid\": \"grafana-metrics\",\r\n  \"version\": 1\r\n}\r\n"

