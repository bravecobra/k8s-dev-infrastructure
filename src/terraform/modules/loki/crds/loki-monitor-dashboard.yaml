apiVersion: v1
kind: ConfigMap
metadata:
  name: loki-monitor-dashboard
  namespace: ${namespace}
  labels:
    grafana_dashboard: "1"
  annotations:
    k8s-sidecar-target-directory: /tmp/dashboards/Infrastructure
data:
  loki-monitor-dashboard.json: "{\r\n    \"annotations\": {\r\n      \"list\": [\r\n
    \       {\r\n          \"builtIn\": 1,\r\n          \"datasource\": \"-- Grafana
    --\",\r\n          \"enable\": true,\r\n          \"hide\": false,\r\n          \"iconColor\":
    \"rgba(0, 211, 255, 1)\",\r\n          \"limit\": 100,\r\n          \"name\":
    \"Annotations & Alerts\",\r\n          \"showIn\": 0,\r\n          \"type\": \"dashboard\"\r\n
    \       }\r\n      ]\r\n    },\r\n    \"description\": \"This dashboard can be
    used to detect issues on the Loki stack, when deployed in Kubernetes. Shows: some
    error metrics published by Promtail/Loki. Error and warning logs emitted by Promtail/Loki.
    Memory and CPU usage of Promtail/Loki compared against the Kubernetes memory/cpu
    limits and requests.\",\r\n    \"editable\": true,\r\n    \"gnetId\": 14055,\r\n
    \   \"graphTooltip\": 0,\r\n    \"id\": 31,\r\n    \"links\": [],\r\n    \"panels\":
    [\r\n      {\r\n        \"dashboardFilter\": \"\",\r\n        \"dashboardTags\":
    [],\r\n        \"datasource\": \"Prometheus\",\r\n        \"fieldConfig\": {\r\n
    \         \"defaults\": {},\r\n          \"overrides\": []\r\n        },\r\n        \"folderId\":
    null,\r\n        \"gridPos\": {\r\n          \"h\": 6,\r\n          \"w\": 24,\r\n
    \         \"x\": 0,\r\n          \"y\": 0\r\n        },\r\n        \"id\": 987,\r\n
    \       \"limit\": \"100\",\r\n        \"nameFilter\": \"\",\r\n        \"onlyAlertsOnDashboard\":
    true,\r\n        \"pluginVersion\": \"7.3.5\",\r\n        \"show\": \"current\",\r\n
    \       \"sortOrder\": 3,\r\n        \"stateFilter\": [],\r\n        \"timeFrom\":
    null,\r\n        \"timeShift\": null,\r\n        \"title\": \"Summary of alerts
    status\",\r\n        \"type\": \"alertlist\"\r\n      },\r\n      {\r\n        \"collapsed\":
    false,\r\n        \"datasource\": \"Prometheus\",\r\n        \"gridPos\": {\r\n
    \         \"h\": 1,\r\n          \"w\": 24,\r\n          \"x\": 0,\r\n          \"y\":
    6\r\n        },\r\n        \"id\": 435,\r\n        \"panels\": [],\r\n        \"title\":
    \"Problems in the Loki Stack\",\r\n        \"type\": \"row\"\r\n      },\r\n      {\r\n
    \       \"alert\": {\r\n          \"alertRuleTags\": {},\r\n          \"conditions\":
    [\r\n            {\r\n              \"evaluator\": {\r\n                \"params\":
    [\r\n                  0\r\n                ],\r\n                \"type\": \"gt\"\r\n
    \             },\r\n              \"operator\": {\r\n                \"type\":
    \"and\"\r\n              },\r\n              \"query\": {\r\n                \"params\":
    [\r\n                  \"A\",\r\n                  \"5m\",\r\n                  \"now\"\r\n
    \               ]\r\n              },\r\n              \"reducer\": {\r\n                \"params\":
    [],\r\n                \"type\": \"avg\"\r\n              },\r\n              \"type\":
    \"query\"\r\n            }\r\n          ],\r\n          \"executionErrorState\":
    \"keep_state\",\r\n          \"for\": \"5m\",\r\n          \"frequency\": \"1m\",\r\n
    \         \"handler\": 1,\r\n          \"name\": \"Loki has emitted error/warning
    messages in the last 5m\",\r\n          \"noDataState\": \"no_data\",\r\n          \"notifications\":
    []\r\n        },\r\n        \"aliasColors\": {},\r\n        \"bars\": true,\r\n
    \       \"dashLength\": 10,\r\n        \"dashes\": false,\r\n        \"datasource\":
    \"Prometheus\",\r\n        \"description\": \"Total number of messages logged
    by Loki itself\",\r\n        \"fieldConfig\": {\r\n          \"defaults\": {\r\n
    \           \"links\": []\r\n          },\r\n          \"overrides\": []\r\n        },\r\n
    \       \"fill\": 1,\r\n        \"fillGradient\": 0,\r\n        \"gridPos\": {\r\n
    \         \"h\": 5,\r\n          \"w\": 9,\r\n          \"x\": 0,\r\n          \"y\":
    7\r\n        },\r\n        \"hiddenSeries\": false,\r\n        \"id\": 10,\r\n
    \       \"interval\": \"1m\",\r\n        \"legend\": {\r\n          \"avg\": false,\r\n
    \         \"current\": false,\r\n          \"max\": false,\r\n          \"min\":
    false,\r\n          \"show\": true,\r\n          \"total\": false,\r\n          \"values\":
    false\r\n        },\r\n        \"lines\": false,\r\n        \"linewidth\": 1,\r\n
    \       \"nullPointMode\": \"null\",\r\n        \"options\": {\r\n          \"alertThreshold\":
    true\r\n        },\r\n        \"percentage\": false,\r\n        \"pluginVersion\":
    \"7.5.5\",\r\n        \"pointradius\": 2,\r\n        \"points\": false,\r\n        \"renderer\":
    \"flot\",\r\n        \"seriesOverrides\": [\r\n          {\r\n            \"alias\":
    \"debug\",\r\n            \"color\": \"#C0D8FF\"\r\n          },\r\n          {\r\n
    \           \"alias\": \"info\",\r\n            \"color\": \"#5794F2\"\r\n          },\r\n
    \         {\r\n            \"alias\": \"warn\",\r\n            \"color\": \"#FF9830\"\r\n
    \         },\r\n          {\r\n            \"alias\": \"error\",\r\n            \"color\":
    \"#C4162A\"\r\n          }\r\n        ],\r\n        \"spaceLength\": 10,\r\n        \"stack\":
    true,\r\n        \"steppedLine\": false,\r\n        \"targets\": [\r\n          {\r\n
    \           \"expr\": \"sum(rate(log_messages_total{app=\\\"loki\\\",level=~\\\"error|warn\\\"}[1m]))
    by (level)\\n\",\r\n            \"format\": \"time_series\",\r\n            \"hide\":
    false,\r\n            \"interval\": \"\",\r\n            \"intervalFactor\": 1,\r\n
    \           \"legendFormat\": \"{{level}}\",\r\n            \"refId\": \"A\"\r\n
    \         },\r\n          {\r\n            \"expr\": \"log_messages_total\",\r\n
    \           \"format\": \"time_series\",\r\n            \"hide\": true,\r\n            \"interval\":
    \"\",\r\n            \"intervalFactor\": 1,\r\n            \"legendFormat\": \"\",\r\n
    \           \"refId\": \"B\"\r\n          }\r\n        ],\r\n        \"thresholds\":
    [\r\n          {\r\n            \"colorMode\": \"critical\",\r\n            \"fill\":
    true,\r\n            \"line\": true,\r\n            \"op\": \"gt\",\r\n            \"value\":
    0,\r\n            \"visible\": true\r\n          }\r\n        ],\r\n        \"timeFrom\":
    null,\r\n        \"timeRegions\": [],\r\n        \"timeShift\": null,\r\n        \"title\":
    \"Number of error/warning messages logged by Loki itself\",\r\n        \"tooltip\":
    {\r\n          \"shared\": true,\r\n          \"sort\": 0,\r\n          \"value_type\":
    \"individual\"\r\n        },\r\n        \"type\": \"graph\",\r\n        \"xaxis\":
    {\r\n          \"buckets\": null,\r\n          \"mode\": \"time\",\r\n          \"name\":
    null,\r\n          \"show\": true,\r\n          \"values\": []\r\n        },\r\n
    \       \"yaxes\": [\r\n          {\r\n            \"format\": \"none\",\r\n            \"label\":
    null,\r\n            \"logBase\": 1,\r\n            \"max\": null,\r\n            \"min\":
    \"0\",\r\n            \"show\": true\r\n          },\r\n          {\r\n            \"format\":
    \"short\",\r\n            \"label\": null,\r\n            \"logBase\": 1,\r\n
    \           \"max\": null,\r\n            \"min\": null,\r\n            \"show\":
    true\r\n          }\r\n        ],\r\n        \"yaxis\": {\r\n          \"align\":
    false,\r\n          \"alignLevel\": null\r\n        }\r\n      },\r\n      {\r\n
    \       \"datasource\": \"Loki\",\r\n        \"fieldConfig\": {\r\n          \"defaults\":
    {},\r\n          \"overrides\": []\r\n        },\r\n        \"gridPos\": {\r\n
    \         \"h\": 5,\r\n          \"w\": 15,\r\n          \"x\": 9,\r\n          \"y\":
    7\r\n        },\r\n        \"id\": 511,\r\n        \"options\": {\r\n          \"dedupStrategy\":
    \"none\",\r\n          \"showLabels\": false,\r\n          \"showTime\": false,\r\n
    \         \"sortOrder\": \"Descending\",\r\n          \"wrapLogMessage\": false\r\n
    \       },\r\n        \"pluginVersion\": \"7.3.5\",\r\n        \"targets\": [\r\n
    \         {\r\n            \"expr\": \"{app=\\\"loki\\\"} | logfmt | level=\\\"warn\\\"
    or level=\\\"error\\\"\",\r\n            \"legendFormat\": \"\",\r\n            \"refId\":
    \"A\"\r\n          }\r\n        ],\r\n        \"timeFrom\": null,\r\n        \"timeShift\":
    null,\r\n        \"title\": \"Error/warning messages logged by Loki itself\",\r\n
    \       \"type\": \"logs\"\r\n      },\r\n      {\r\n        \"alert\": {\r\n
    \         \"alertRuleTags\": {},\r\n          \"conditions\": [\r\n            {\r\n
    \             \"evaluator\": {\r\n                \"params\": [\r\n                  0\r\n
    \               ],\r\n                \"type\": \"gt\"\r\n              },\r\n
    \             \"operator\": {\r\n                \"type\": \"and\"\r\n              },\r\n
    \             \"query\": {\r\n                \"params\": [\r\n                  \"A\",\r\n
    \                 \"5m\",\r\n                  \"now\"\r\n                ]\r\n
    \             },\r\n              \"reducer\": {\r\n                \"params\":
    [],\r\n                \"type\": \"avg\"\r\n              },\r\n              \"type\":
    \"query\"\r\n            }\r\n          ],\r\n          \"executionErrorState\":
    \"keep_state\",\r\n          \"for\": \"5m\",\r\n          \"frequency\": \"1m\",\r\n
    \         \"handler\": 1,\r\n          \"name\": \"Promtail has emitted error/warning
    messages in the last 5m\",\r\n          \"noDataState\": \"no_data\",\r\n          \"notifications\":
    []\r\n        },\r\n        \"aliasColors\": {},\r\n        \"bars\": true,\r\n
    \       \"dashLength\": 10,\r\n        \"dashes\": false,\r\n        \"datasource\":
    \"Prometheus\",\r\n        \"description\": \"Total number of messages logged
    by Promtail\",\r\n        \"fieldConfig\": {\r\n          \"defaults\": {\r\n
    \           \"links\": []\r\n          },\r\n          \"overrides\": []\r\n        },\r\n
    \       \"fill\": 1,\r\n        \"fillGradient\": 0,\r\n        \"gridPos\": {\r\n
    \         \"h\": 5,\r\n          \"w\": 9,\r\n          \"x\": 0,\r\n          \"y\":
    12\r\n        },\r\n        \"hiddenSeries\": false,\r\n        \"id\": 106,\r\n
    \       \"interval\": \"1m\",\r\n        \"legend\": {\r\n          \"avg\": false,\r\n
    \         \"current\": false,\r\n          \"max\": false,\r\n          \"min\":
    false,\r\n          \"show\": true,\r\n          \"total\": false,\r\n          \"values\":
    false\r\n        },\r\n        \"lines\": false,\r\n        \"linewidth\": 1,\r\n
    \       \"nullPointMode\": \"null\",\r\n        \"options\": {\r\n          \"alertThreshold\":
    true\r\n        },\r\n        \"percentage\": false,\r\n        \"pluginVersion\":
    \"7.5.5\",\r\n        \"pointradius\": 2,\r\n        \"points\": false,\r\n        \"renderer\":
    \"flot\",\r\n        \"seriesOverrides\": [\r\n          {\r\n            \"alias\":
    \"debug\",\r\n            \"color\": \"#C0D8FF\"\r\n          },\r\n          {\r\n
    \           \"alias\": \"info\",\r\n            \"color\": \"#5794F2\"\r\n          },\r\n
    \         {\r\n            \"alias\": \"warn\",\r\n            \"color\": \"#FF9830\"\r\n
    \         },\r\n          {\r\n            \"alias\": \"error\",\r\n            \"color\":
    \"#C4162A\"\r\n          }\r\n        ],\r\n        \"spaceLength\": 10,\r\n        \"stack\":
    true,\r\n        \"steppedLine\": false,\r\n        \"targets\": [\r\n          {\r\n
    \           \"expr\": \"sum(rate(log_messages_total{app_kubernetes_io_name=\\\"promtail\\\",level=~\\\"error|warn\\\"}[1m]))
    by (level)\\n\",\r\n            \"format\": \"time_series\",\r\n            \"hide\":
    false,\r\n            \"interval\": \"\",\r\n            \"intervalFactor\": 1,\r\n
    \           \"legendFormat\": \"{{level}}\",\r\n            \"refId\": \"A\"\r\n
    \         }\r\n        ],\r\n        \"thresholds\": [\r\n          {\r\n            \"colorMode\":
    \"critical\",\r\n            \"fill\": true,\r\n            \"line\": true,\r\n
    \           \"op\": \"gt\",\r\n            \"value\": 0,\r\n            \"visible\":
    true\r\n          }\r\n        ],\r\n        \"timeFrom\": null,\r\n        \"timeRegions\":
    [],\r\n        \"timeShift\": null,\r\n        \"title\": \"Error/warning messages
    logged by Promtail\",\r\n        \"tooltip\": {\r\n          \"shared\": true,\r\n
    \         \"sort\": 0,\r\n          \"value_type\": \"individual\"\r\n        },\r\n
    \       \"type\": \"graph\",\r\n        \"xaxis\": {\r\n          \"buckets\":
    null,\r\n          \"mode\": \"time\",\r\n          \"name\": null,\r\n          \"show\":
    true,\r\n          \"values\": []\r\n        },\r\n        \"yaxes\": [\r\n          {\r\n
    \           \"format\": \"none\",\r\n            \"label\": null,\r\n            \"logBase\":
    1,\r\n            \"max\": null,\r\n            \"min\": \"0\",\r\n            \"show\":
    true\r\n          },\r\n          {\r\n            \"format\": \"short\",\r\n
    \           \"label\": null,\r\n            \"logBase\": 1,\r\n            \"max\":
    null,\r\n            \"min\": null,\r\n            \"show\": true\r\n          }\r\n
    \       ],\r\n        \"yaxis\": {\r\n          \"align\": false,\r\n          \"alignLevel\":
    null\r\n        }\r\n      },\r\n      {\r\n        \"datasource\": \"Loki\",\r\n
    \       \"fieldConfig\": {\r\n          \"defaults\": {},\r\n          \"overrides\":
    []\r\n        },\r\n        \"gridPos\": {\r\n          \"h\": 5,\r\n          \"w\":
    15,\r\n          \"x\": 9,\r\n          \"y\": 12\r\n        },\r\n        \"id\":
    586,\r\n        \"options\": {\r\n          \"dedupStrategy\": \"none\",\r\n          \"showLabels\":
    false,\r\n          \"showTime\": false,\r\n          \"sortOrder\": \"Descending\",\r\n
    \         \"wrapLogMessage\": false\r\n        },\r\n        \"pluginVersion\":
    \"7.3.5\",\r\n        \"targets\": [\r\n          {\r\n            \"expr\": \"{app=\\\"promtail\\\"}
    | logfmt | level=\\\"warn\\\" or level=\\\"error\\\"\",\r\n            \"legendFormat\":
    \"\",\r\n            \"refId\": \"A\"\r\n          }\r\n        ],\r\n        \"timeFrom\":
    null,\r\n        \"timeShift\": null,\r\n        \"title\": \"Error/warning messages
    logged by Promtail\",\r\n        \"type\": \"logs\"\r\n      },\r\n      {\r\n
    \       \"alert\": {\r\n          \"alertRuleTags\": {},\r\n          \"conditions\":
    [\r\n            {\r\n              \"evaluator\": {\r\n                \"params\":
    [\r\n                  0.01\r\n                ],\r\n                \"type\":
    \"gt\"\r\n              },\r\n              \"operator\": {\r\n                \"type\":
    \"and\"\r\n              },\r\n              \"query\": {\r\n                \"params\":
    [\r\n                  \"A\",\r\n                  \"5m\",\r\n                  \"now\"\r\n
    \               ]\r\n              },\r\n              \"reducer\": {\r\n                \"params\":
    [],\r\n                \"type\": \"max\"\r\n              },\r\n              \"type\":
    \"query\"\r\n            }\r\n          ],\r\n          \"executionErrorState\":
    \"keep_state\",\r\n          \"for\": \"5m\",\r\n          \"frequency\": \"1m\",\r\n
    \         \"handler\": 1,\r\n          \"name\": \"Loki distributor has failed
    to send batches to ingesters\",\r\n          \"noDataState\": \"no_data\",\r\n
    \         \"notifications\": []\r\n        },\r\n        \"aliasColors\": {},\r\n
    \       \"bars\": false,\r\n        \"dashLength\": 10,\r\n        \"dashes\":
    false,\r\n        \"datasource\": \"Prometheus\",\r\n        \"fieldConfig\":
    {\r\n          \"defaults\": {},\r\n          \"overrides\": []\r\n        },\r\n
    \       \"fill\": 1,\r\n        \"fillGradient\": 0,\r\n        \"gridPos\": {\r\n
    \         \"h\": 5,\r\n          \"w\": 24,\r\n          \"x\": 0,\r\n          \"y\":
    17\r\n        },\r\n        \"hiddenSeries\": false,\r\n        \"id\": 676,\r\n
    \       \"interval\": \"1m\",\r\n        \"legend\": {\r\n          \"avg\": false,\r\n
    \         \"current\": false,\r\n          \"max\": false,\r\n          \"min\":
    false,\r\n          \"show\": true,\r\n          \"total\": false,\r\n          \"values\":
    false\r\n        },\r\n        \"lines\": true,\r\n        \"linewidth\": 1,\r\n
    \       \"nullPointMode\": \"null\",\r\n        \"options\": {\r\n          \"alertThreshold\":
    true\r\n        },\r\n        \"percentage\": false,\r\n        \"pluginVersion\":
    \"7.5.5\",\r\n        \"pointradius\": 2,\r\n        \"points\": false,\r\n        \"renderer\":
    \"flot\",\r\n        \"seriesOverrides\": [],\r\n        \"spaceLength\": 10,\r\n
    \       \"stack\": false,\r\n        \"steppedLine\": false,\r\n        \"targets\":
    [\r\n          {\r\n            \"expr\": \"rate(loki_distributor_ingester_append_failures_total[1m])*60\",\r\n
    \           \"instant\": false,\r\n            \"interval\": \"\",\r\n            \"legendFormat\":
    \"\",\r\n            \"refId\": \"A\"\r\n          }\r\n        ],\r\n        \"thresholds\":
    [\r\n          {\r\n            \"colorMode\": \"critical\",\r\n            \"fill\":
    true,\r\n            \"line\": true,\r\n            \"op\": \"gt\",\r\n            \"value\":
    0.01,\r\n            \"visible\": true\r\n          }\r\n        ],\r\n        \"timeFrom\":
    null,\r\n        \"timeRegions\": [],\r\n        \"timeShift\": null,\r\n        \"title\":
    \"Loki (distributor) - failed batch appends sent to ingesters\",\r\n        \"tooltip\":
    {\r\n          \"shared\": true,\r\n          \"sort\": 0,\r\n          \"value_type\":
    \"individual\"\r\n        },\r\n        \"type\": \"graph\",\r\n        \"xaxis\":
    {\r\n          \"buckets\": null,\r\n          \"mode\": \"time\",\r\n          \"name\":
    null,\r\n          \"show\": true,\r\n          \"values\": []\r\n        },\r\n
    \       \"yaxes\": [\r\n          {\r\n            \"format\": \"short\",\r\n
    \           \"label\": null,\r\n            \"logBase\": 1,\r\n            \"max\":
    null,\r\n            \"min\": \"0\",\r\n            \"show\": true\r\n          },\r\n
    \         {\r\n            \"format\": \"short\",\r\n            \"label\": null,\r\n
    \           \"logBase\": 1,\r\n            \"max\": null,\r\n            \"min\":
    null,\r\n            \"show\": true\r\n          }\r\n        ],\r\n        \"yaxis\":
    {\r\n          \"align\": false,\r\n          \"alignLevel\": null\r\n        }\r\n
    \     },\r\n      {\r\n        \"alert\": {\r\n          \"alertRuleTags\": {},\r\n
    \         \"conditions\": [\r\n            {\r\n              \"evaluator\": {\r\n
    \               \"params\": [\r\n                  0.01\r\n                ],\r\n
    \               \"type\": \"gt\"\r\n              },\r\n              \"operator\":
    {\r\n                \"type\": \"and\"\r\n              },\r\n              \"query\":
    {\r\n                \"params\": [\r\n                  \"A\",\r\n                  \"5m\",\r\n
    \                 \"now\"\r\n                ]\r\n              },\r\n              \"reducer\":
    {\r\n                \"params\": [],\r\n                \"type\": \"max\"\r\n
    \             },\r\n              \"type\": \"query\"\r\n            }\r\n          ],\r\n
    \         \"executionErrorState\": \"keep_state\",\r\n          \"for\": \"5m\",\r\n
    \         \"frequency\": \"1m\",\r\n          \"handler\": 1,\r\n          \"name\":
    \"Promtail has dropped logs in the last 5m\",\r\n          \"noDataState\": \"no_data\",\r\n
    \         \"notifications\": []\r\n        },\r\n        \"aliasColors\": {},\r\n
    \       \"bars\": false,\r\n        \"dashLength\": 10,\r\n        \"dashes\":
    false,\r\n        \"datasource\": \"Prometheus\",\r\n        \"description\":
    \"Number of log entries dropped because failed to be sent to the Loki ingester
    after all retries.\",\r\n        \"fieldConfig\": {\r\n          \"defaults\":
    {},\r\n          \"overrides\": []\r\n        },\r\n        \"fill\": 1,\r\n        \"fillGradient\":
    0,\r\n        \"gridPos\": {\r\n          \"h\": 5,\r\n          \"w\": 24,\r\n
    \         \"x\": 0,\r\n          \"y\": 22\r\n        },\r\n        \"hiddenSeries\":
    false,\r\n        \"id\": 677,\r\n        \"interval\": \"1m\",\r\n        \"legend\":
    {\r\n          \"avg\": false,\r\n          \"current\": false,\r\n          \"max\":
    false,\r\n          \"min\": false,\r\n          \"show\": true,\r\n          \"total\":
    false,\r\n          \"values\": false\r\n        },\r\n        \"lines\": true,\r\n
    \       \"linewidth\": 1,\r\n        \"nullPointMode\": \"null\",\r\n        \"options\":
    {\r\n          \"alertThreshold\": true\r\n        },\r\n        \"percentage\":
    false,\r\n        \"pluginVersion\": \"7.5.5\",\r\n        \"pointradius\": 2,\r\n
    \       \"points\": false,\r\n        \"renderer\": \"flot\",\r\n        \"seriesOverrides\":
    [],\r\n        \"spaceLength\": 10,\r\n        \"stack\": false,\r\n        \"steppedLine\":
    false,\r\n        \"targets\": [\r\n          {\r\n            \"expr\": \"rate(promtail_dropped_entries_total[1m])*60\",\r\n
    \           \"instant\": false,\r\n            \"interval\": \"\",\r\n            \"legendFormat\":
    \"pod={{kubernetes_pod_name}}, instance={{instance}}\",\r\n            \"refId\":
    \"A\"\r\n          }\r\n        ],\r\n        \"thresholds\": [\r\n          {\r\n
    \           \"colorMode\": \"critical\",\r\n            \"fill\": true,\r\n            \"line\":
    true,\r\n            \"op\": \"gt\",\r\n            \"value\": 0.01,\r\n            \"visible\":
    true\r\n          }\r\n        ],\r\n        \"timeFrom\": null,\r\n        \"timeRegions\":
    [],\r\n        \"timeShift\": null,\r\n        \"title\": \"Promtail - dropped
    log entries\",\r\n        \"tooltip\": {\r\n          \"shared\": true,\r\n          \"sort\":
    0,\r\n          \"value_type\": \"individual\"\r\n        },\r\n        \"type\":
    \"graph\",\r\n        \"xaxis\": {\r\n          \"buckets\": null,\r\n          \"mode\":
    \"time\",\r\n          \"name\": null,\r\n          \"show\": true,\r\n          \"values\":
    []\r\n        },\r\n        \"yaxes\": [\r\n          {\r\n            \"format\":
    \"short\",\r\n            \"label\": null,\r\n            \"logBase\": 1,\r\n
    \           \"max\": null,\r\n            \"min\": \"0\",\r\n            \"show\":
    true\r\n          },\r\n          {\r\n            \"format\": \"short\",\r\n
    \           \"label\": null,\r\n            \"logBase\": 1,\r\n            \"max\":
    null,\r\n            \"min\": null,\r\n            \"show\": true\r\n          }\r\n
    \       ],\r\n        \"yaxis\": {\r\n          \"align\": false,\r\n          \"alignLevel\":
    null\r\n        }\r\n      },\r\n      {\r\n        \"collapsed\": false,\r\n
    \       \"datasource\": \"Prometheus\",\r\n        \"gridPos\": {\r\n          \"h\":
    1,\r\n          \"w\": 24,\r\n          \"x\": 0,\r\n          \"y\": 27\r\n        },\r\n
    \       \"id\": 47,\r\n        \"panels\": [],\r\n        \"title\": \"Logging
    activity\",\r\n        \"type\": \"row\"\r\n      },\r\n      {\r\n        \"alert\":
    {\r\n          \"alertRuleTags\": {},\r\n          \"conditions\": [\r\n            {\r\n
    \             \"evaluator\": {\r\n                \"params\": [\r\n                  5000\r\n
    \               ],\r\n                \"type\": \"gt\"\r\n              },\r\n
    \             \"operator\": {\r\n                \"type\": \"and\"\r\n              },\r\n
    \             \"query\": {\r\n                \"params\": [\r\n                  \"A\",\r\n
    \                 \"1m\",\r\n                  \"now\"\r\n                ]\r\n
    \             },\r\n              \"reducer\": {\r\n                \"params\":
    [],\r\n                \"type\": \"avg\"\r\n              },\r\n              \"type\":
    \"query\"\r\n            }\r\n          ],\r\n          \"executionErrorState\":
    \"keep_state\",\r\n          \"for\": \"5m\",\r\n          \"frequency\": \"1m\",\r\n
    \         \"handler\": 1,\r\n          \"name\": \"The number of streams in Loki
    is above 5000\",\r\n          \"noDataState\": \"no_data\",\r\n          \"notifications\":
    []\r\n        },\r\n        \"aliasColors\": {},\r\n        \"bars\": false,\r\n
    \       \"dashLength\": 10,\r\n        \"dashes\": false,\r\n        \"datasource\":
    \"Prometheus\",\r\n        \"description\": \"The total number of streams created
    per tenant.\\nThis should not increase after startup.\",\r\n        \"fieldConfig\":
    {\r\n          \"defaults\": {\r\n            \"links\": []\r\n          },\r\n
    \         \"overrides\": []\r\n        },\r\n        \"fill\": 1,\r\n        \"fillGradient\":
    0,\r\n        \"gridPos\": {\r\n          \"h\": 6,\r\n          \"w\": 24,\r\n
    \         \"x\": 0,\r\n          \"y\": 28\r\n        },\r\n        \"hiddenSeries\":
    false,\r\n        \"id\": 78,\r\n        \"legend\": {\r\n          \"avg\": false,\r\n
    \         \"current\": true,\r\n          \"max\": false,\r\n          \"min\":
    false,\r\n          \"show\": true,\r\n          \"total\": false,\r\n          \"values\":
    true\r\n        },\r\n        \"lines\": true,\r\n        \"linewidth\": 1,\r\n
    \       \"nullPointMode\": \"null\",\r\n        \"options\": {\r\n          \"alertThreshold\":
    true\r\n        },\r\n        \"percentage\": false,\r\n        \"pluginVersion\":
    \"7.5.5\",\r\n        \"pointradius\": 2,\r\n        \"points\": false,\r\n        \"renderer\":
    \"flot\",\r\n        \"seriesOverrides\": [],\r\n        \"spaceLength\": 10,\r\n
    \       \"stack\": false,\r\n        \"steppedLine\": false,\r\n        \"targets\":
    [\r\n          {\r\n            \"expr\": \"loki_ingester_memory_streams\",\r\n
    \           \"interval\": \"\",\r\n            \"legendFormat\": \"Streams\",\r\n
    \           \"refId\": \"A\"\r\n          }\r\n        ],\r\n        \"thresholds\":
    [\r\n          {\r\n            \"colorMode\": \"critical\",\r\n            \"fill\":
    true,\r\n            \"line\": true,\r\n            \"op\": \"gt\",\r\n            \"value\":
    5000,\r\n            \"visible\": true\r\n          }\r\n        ],\r\n        \"timeFrom\":
    null,\r\n        \"timeRegions\": [],\r\n        \"timeShift\": null,\r\n        \"title\":
    \"Number of Streams in Loki\",\r\n        \"tooltip\": {\r\n          \"shared\":
    true,\r\n          \"sort\": 0,\r\n          \"value_type\": \"individual\"\r\n
    \       },\r\n        \"type\": \"graph\",\r\n        \"xaxis\": {\r\n          \"buckets\":
    null,\r\n          \"mode\": \"time\",\r\n          \"name\": null,\r\n          \"show\":
    true,\r\n          \"values\": []\r\n        },\r\n        \"yaxes\": [\r\n          {\r\n
    \           \"format\": \"short\",\r\n            \"label\": null,\r\n            \"logBase\":
    1,\r\n            \"max\": null,\r\n            \"min\": \"0\",\r\n            \"show\":
    true\r\n          },\r\n          {\r\n            \"format\": \"short\",\r\n
    \           \"label\": null,\r\n            \"logBase\": 1,\r\n            \"max\":
    null,\r\n            \"min\": null,\r\n            \"show\": true\r\n          }\r\n
    \       ],\r\n        \"yaxis\": {\r\n          \"align\": false,\r\n          \"alignLevel\":
    null\r\n        }\r\n      },\r\n      {\r\n        \"aliasColors\": {},\r\n        \"bars\":
    false,\r\n        \"dashLength\": 10,\r\n        \"dashes\": false,\r\n        \"datasource\":
    \"Prometheus\",\r\n        \"description\": \"The total number of log entries
    received per tenant (not necessarily of lines, as an entry can have more than
    one line of text).\",\r\n        \"fieldConfig\": {\r\n          \"defaults\":
    {\r\n            \"links\": []\r\n          },\r\n          \"overrides\": []\r\n
    \       },\r\n        \"fill\": 1,\r\n        \"fillGradient\": 0,\r\n        \"gridPos\":
    {\r\n          \"h\": 6,\r\n          \"w\": 24,\r\n          \"x\": 0,\r\n          \"y\":
    34\r\n        },\r\n        \"hiddenSeries\": false,\r\n        \"id\": 56,\r\n
    \       \"legend\": {\r\n          \"avg\": false,\r\n          \"current\": false,\r\n
    \         \"max\": false,\r\n          \"min\": false,\r\n          \"show\":
    true,\r\n          \"total\": false,\r\n          \"values\": false\r\n        },\r\n
    \       \"lines\": true,\r\n        \"linewidth\": 1,\r\n        \"nullPointMode\":
    \"null\",\r\n        \"options\": {\r\n          \"alertThreshold\": true\r\n
    \       },\r\n        \"percentage\": false,\r\n        \"pluginVersion\": \"7.5.5\",\r\n
    \       \"pointradius\": 2,\r\n        \"points\": false,\r\n        \"renderer\":
    \"flot\",\r\n        \"seriesOverrides\": [],\r\n        \"spaceLength\": 10,\r\n
    \       \"stack\": false,\r\n        \"steppedLine\": false,\r\n        \"targets\":
    [\r\n          {\r\n            \"expr\": \"rate(loki_distributor_lines_received_total[1m])\",\r\n
    \           \"interval\": \"\",\r\n            \"legendFormat\": \"\",\r\n            \"refId\":
    \"A\"\r\n          }\r\n        ],\r\n        \"thresholds\": [],\r\n        \"timeFrom\":
    null,\r\n        \"timeRegions\": [],\r\n        \"timeShift\": null,\r\n        \"title\":
    \"Loki (distributor) - log entries received per second\",\r\n        \"tooltip\":
    {\r\n          \"shared\": true,\r\n          \"sort\": 0,\r\n          \"value_type\":
    \"individual\"\r\n        },\r\n        \"type\": \"graph\",\r\n        \"xaxis\":
    {\r\n          \"buckets\": null,\r\n          \"mode\": \"time\",\r\n          \"name\":
    null,\r\n          \"show\": true,\r\n          \"values\": []\r\n        },\r\n
    \       \"yaxes\": [\r\n          {\r\n            \"format\": \"short\",\r\n
    \           \"label\": null,\r\n            \"logBase\": 1,\r\n            \"max\":
    null,\r\n            \"min\": \"0\",\r\n            \"show\": true\r\n          },\r\n
    \         {\r\n            \"format\": \"short\",\r\n            \"label\": null,\r\n
    \           \"logBase\": 1,\r\n            \"max\": null,\r\n            \"min\":
    null,\r\n            \"show\": true\r\n          }\r\n        ],\r\n        \"yaxis\":
    {\r\n          \"align\": false,\r\n          \"alignLevel\": null\r\n        }\r\n
    \     },\r\n      {\r\n        \"alert\": {\r\n          \"alertRuleTags\": {},\r\n
    \         \"conditions\": [\r\n            {\r\n              \"evaluator\": {\r\n
    \               \"params\": [\r\n                  1000000\r\n                ],\r\n
    \               \"type\": \"gt\"\r\n              },\r\n              \"operator\":
    {\r\n                \"type\": \"and\"\r\n              },\r\n              \"query\":
    {\r\n                \"params\": [\r\n                  \"A\",\r\n                  \"5m\",\r\n
    \                 \"now\"\r\n                ]\r\n              },\r\n              \"reducer\":
    {\r\n                \"params\": [],\r\n                \"type\": \"avg\"\r\n
    \             },\r\n              \"type\": \"query\"\r\n            }\r\n          ],\r\n
    \         \"executionErrorState\": \"keep_state\",\r\n          \"for\": \"1m\",\r\n
    \         \"frequency\": \"1m\",\r\n          \"handler\": 1,\r\n          \"name\":
    \"Quantity of data received by the Loki ingester is suspiciously high\",\r\n          \"noDataState\":
    \"no_data\",\r\n          \"notifications\": []\r\n        },\r\n        \"aliasColors\":
    {},\r\n        \"bars\": false,\r\n        \"dashLength\": 10,\r\n        \"dashes\":
    false,\r\n        \"datasource\": \"Prometheus\",\r\n        \"description\":
    \"The total number of uncompressed bytes received per tenant.\\n\",\r\n        \"fieldConfig\":
    {\r\n          \"defaults\": {\r\n            \"links\": []\r\n          },\r\n
    \         \"overrides\": []\r\n        },\r\n        \"fill\": 1,\r\n        \"fillGradient\":
    0,\r\n        \"gridPos\": {\r\n          \"h\": 6,\r\n          \"w\": 24,\r\n
    \         \"x\": 0,\r\n          \"y\": 40\r\n        },\r\n        \"hiddenSeries\":
    false,\r\n        \"id\": 137,\r\n        \"legend\": {\r\n          \"avg\":
    false,\r\n          \"current\": false,\r\n          \"max\": false,\r\n          \"min\":
    false,\r\n          \"show\": true,\r\n          \"total\": false,\r\n          \"values\":
    false\r\n        },\r\n        \"lines\": true,\r\n        \"linewidth\": 1,\r\n
    \       \"nullPointMode\": \"null\",\r\n        \"options\": {\r\n          \"alertThreshold\":
    true\r\n        },\r\n        \"percentage\": false,\r\n        \"pluginVersion\":
    \"7.5.5\",\r\n        \"pointradius\": 2,\r\n        \"points\": false,\r\n        \"renderer\":
    \"flot\",\r\n        \"seriesOverrides\": [],\r\n        \"spaceLength\": 10,\r\n
    \       \"stack\": false,\r\n        \"steppedLine\": false,\r\n        \"targets\":
    [\r\n          {\r\n            \"expr\": \"sum(rate(loki_distributor_bytes_received_total[1m]))\",\r\n
    \           \"interval\": \"\",\r\n            \"legendFormat\": \"\",\r\n            \"refId\":
    \"A\"\r\n          }\r\n        ],\r\n        \"thresholds\": [\r\n          {\r\n
    \           \"colorMode\": \"critical\",\r\n            \"fill\": true,\r\n            \"line\":
    true,\r\n            \"op\": \"gt\",\r\n            \"value\": 1000000,\r\n            \"visible\":
    true\r\n          }\r\n        ],\r\n        \"timeFrom\": null,\r\n        \"timeRegions\":
    [],\r\n        \"timeShift\": null,\r\n        \"title\": \"Bytes received in
    ingester per second\",\r\n        \"tooltip\": {\r\n          \"shared\": true,\r\n
    \         \"sort\": 0,\r\n          \"value_type\": \"individual\"\r\n        },\r\n
    \       \"type\": \"graph\",\r\n        \"xaxis\": {\r\n          \"buckets\":
    null,\r\n          \"mode\": \"time\",\r\n          \"name\": null,\r\n          \"show\":
    true,\r\n          \"values\": []\r\n        },\r\n        \"yaxes\": [\r\n          {\r\n
    \           \"format\": \"decbytes\",\r\n            \"label\": null,\r\n            \"logBase\":
    1,\r\n            \"max\": null,\r\n            \"min\": \"0\",\r\n            \"show\":
    true\r\n          },\r\n          {\r\n            \"format\": \"short\",\r\n
    \           \"label\": null,\r\n            \"logBase\": 1,\r\n            \"max\":
    null,\r\n            \"min\": null,\r\n            \"show\": true\r\n          }\r\n
    \       ],\r\n        \"yaxis\": {\r\n          \"align\": false,\r\n          \"alignLevel\":
    null\r\n        }\r\n      },\r\n      {\r\n        \"collapsed\": false,\r\n
    \       \"datasource\": \"Prometheus\",\r\n        \"gridPos\": {\r\n          \"h\":
    1,\r\n          \"w\": 24,\r\n          \"x\": 0,\r\n          \"y\": 46\r\n        },\r\n
    \       \"id\": 18,\r\n        \"panels\": [],\r\n        \"title\": \"Memory
    usage\",\r\n        \"type\": \"row\"\r\n      },\r\n      {\r\n        \"alert\":
    {\r\n          \"alertRuleTags\": {},\r\n          \"conditions\": [\r\n            {\r\n
    \             \"evaluator\": {\r\n                \"params\": [\r\n                  80\r\n
    \               ],\r\n                \"type\": \"gt\"\r\n              },\r\n
    \             \"operator\": {\r\n                \"type\": \"and\"\r\n              },\r\n
    \             \"query\": {\r\n                \"params\": [\r\n                  \"A\",\r\n
    \                 \"5m\",\r\n                  \"now\"\r\n                ]\r\n
    \             },\r\n              \"reducer\": {\r\n                \"params\":
    [],\r\n                \"type\": \"avg\"\r\n              },\r\n              \"type\":
    \"query\"\r\n            }\r\n          ],\r\n          \"executionErrorState\":
    \"keep_state\",\r\n          \"for\": \"1m\",\r\n          \"frequency\": \"1m\",\r\n
    \         \"handler\": 1,\r\n          \"name\": \"Loki memory usage is above
    80% of the defined limit\",\r\n          \"noDataState\": \"no_data\",\r\n          \"notifications\":
    []\r\n        },\r\n        \"aliasColors\": {},\r\n        \"bars\": false,\r\n
    \       \"dashLength\": 10,\r\n        \"dashes\": false,\r\n        \"datasource\":
    \"Prometheus\",\r\n        \"decimals\": 2,\r\n        \"description\": \"Percentage
    of actual usage over configured limit\",\r\n        \"editable\": true,\r\n        \"error\":
    false,\r\n        \"fieldConfig\": {\r\n          \"defaults\": {\r\n            \"links\":
    []\r\n          },\r\n          \"overrides\": []\r\n        },\r\n        \"fill\":
    0,\r\n        \"fillGradient\": 0,\r\n        \"grid\": {},\r\n        \"gridPos\":
    {\r\n          \"h\": 6,\r\n          \"w\": 24,\r\n          \"x\": 0,\r\n          \"y\":
    47\r\n        },\r\n        \"hiddenSeries\": false,\r\n        \"id\": 247,\r\n
    \       \"isNew\": true,\r\n        \"legend\": {\r\n          \"alignAsTable\":
    false,\r\n          \"avg\": false,\r\n          \"current\": false,\r\n          \"max\":
    false,\r\n          \"min\": false,\r\n          \"rightSide\": false,\r\n          \"show\":
    true,\r\n          \"sideWidth\": 200,\r\n          \"sort\": \"current\",\r\n
    \         \"sortDesc\": true,\r\n          \"total\": false,\r\n          \"values\":
    false\r\n        },\r\n        \"lines\": true,\r\n        \"linewidth\": 2,\r\n
    \       \"links\": [],\r\n        \"nullPointMode\": \"connected\",\r\n        \"options\":
    {\r\n          \"alertThreshold\": true\r\n        },\r\n        \"percentage\":
    false,\r\n        \"pluginVersion\": \"7.5.5\",\r\n        \"pointradius\": 5,\r\n
    \       \"points\": false,\r\n        \"renderer\": \"flot\",\r\n        \"seriesOverrides\":
    [],\r\n        \"spaceLength\": 10,\r\n        \"stack\": false,\r\n        \"steppedLine\":
    false,\r\n        \"targets\": [\r\n          {\r\n            \"expr\": \"100
    * max by(pod,container) (container_memory_working_set_bytes{container!=\\\"\\\",container!=\\\"POD\\\",pod=~\\\"loki.*\\\"})\\n/\\non
    (pod,container) group_left  kube_pod_container_resource_limits_memory_bytes{pod=~\\\"loki.*\\\"}\",\r\n
    \           \"hide\": false,\r\n            \"interval\": \"\",\r\n            \"legendFormat\":
    \"Usage (pod={{pod}}, container={{container}}, name={{name}})\",\r\n            \"refId\":
    \"A\"\r\n          }\r\n        ],\r\n        \"thresholds\": [\r\n          {\r\n
    \           \"colorMode\": \"critical\",\r\n            \"fill\": true,\r\n            \"line\":
    true,\r\n            \"op\": \"gt\",\r\n            \"value\": 80,\r\n            \"visible\":
    true\r\n          }\r\n        ],\r\n        \"timeFrom\": null,\r\n        \"timeRegions\":
    [],\r\n        \"timeShift\": null,\r\n        \"title\": \"Loki memory usage
    (% of Kubernetes memory limit)\",\r\n        \"tooltip\": {\r\n          \"msResolution\":
    false,\r\n          \"shared\": true,\r\n          \"sort\": 2,\r\n          \"value_type\":
    \"cumulative\"\r\n        },\r\n        \"type\": \"graph\",\r\n        \"xaxis\":
    {\r\n          \"buckets\": null,\r\n          \"mode\": \"time\",\r\n          \"name\":
    null,\r\n          \"show\": true,\r\n          \"values\": []\r\n        },\r\n
    \       \"yaxes\": [\r\n          {\r\n            \"$$hashKey\": \"object:241\",\r\n
    \           \"format\": \"percent\",\r\n            \"label\": null,\r\n            \"logBase\":
    1,\r\n            \"max\": \"100\",\r\n            \"min\": \"0\",\r\n            \"show\":
    true\r\n          },\r\n          {\r\n            \"$$hashKey\": \"object:242\",\r\n
    \           \"format\": \"short\",\r\n            \"label\": null,\r\n            \"logBase\":
    1,\r\n            \"max\": null,\r\n            \"min\": null,\r\n            \"show\":
    false\r\n          }\r\n        ],\r\n        \"yaxis\": {\r\n          \"align\":
    false,\r\n          \"alignLevel\": null\r\n        }\r\n      },\r\n      {\r\n
    \       \"aliasColors\": {},\r\n        \"bars\": false,\r\n        \"dashLength\":
    10,\r\n        \"dashes\": false,\r\n        \"datasource\": \"Prometheus\",\r\n
    \       \"decimals\": 2,\r\n        \"editable\": true,\r\n        \"error\":
    false,\r\n        \"fieldConfig\": {\r\n          \"defaults\": {\r\n            \"links\":
    []\r\n          },\r\n          \"overrides\": []\r\n        },\r\n        \"fill\":
    0,\r\n        \"fillGradient\": 0,\r\n        \"grid\": {},\r\n        \"gridPos\":
    {\r\n          \"h\": 6,\r\n          \"w\": 24,\r\n          \"x\": 0,\r\n          \"y\":
    53\r\n        },\r\n        \"hiddenSeries\": false,\r\n        \"id\": 25,\r\n
    \       \"isNew\": true,\r\n        \"legend\": {\r\n          \"alignAsTable\":
    false,\r\n          \"avg\": false,\r\n          \"current\": false,\r\n          \"max\":
    false,\r\n          \"min\": false,\r\n          \"rightSide\": false,\r\n          \"show\":
    true,\r\n          \"sideWidth\": 200,\r\n          \"sort\": \"current\",\r\n
    \         \"sortDesc\": true,\r\n          \"total\": false,\r\n          \"values\":
    false\r\n        },\r\n        \"lines\": true,\r\n        \"linewidth\": 2,\r\n
    \       \"links\": [],\r\n        \"nullPointMode\": \"connected\",\r\n        \"options\":
    {\r\n          \"alertThreshold\": true\r\n        },\r\n        \"percentage\":
    false,\r\n        \"pluginVersion\": \"7.5.5\",\r\n        \"pointradius\": 5,\r\n
    \       \"points\": false,\r\n        \"renderer\": \"flot\",\r\n        \"repeat\":
    null,\r\n        \"seriesOverrides\": [\r\n          {\r\n            \"alias\":
    \"Limit\",\r\n            \"color\": \"rgba(255, 255, 255, 0.56)\",\r\n            \"dashes\":
    true\r\n          },\r\n          {\r\n            \"alias\": \"Request\",\r\n
    \           \"color\": \"rgba(255, 255, 255, 0.78)\"\r\n          },\r\n          {\r\n
    \           \"alias\": \"Usage\",\r\n            \"fill\": 1\r\n          }\r\n
    \       ],\r\n        \"spaceLength\": 10,\r\n        \"stack\": false,\r\n        \"steppedLine\":
    false,\r\n        \"targets\": [\r\n          {\r\n            \"expr\": \"container_memory_working_set_bytes{container!=\\\"\\\",container!=\\\"POD\\\",pod=~\\\"loki.*\\\"}\",\r\n
    \           \"interval\": \"10s\",\r\n            \"intervalFactor\": 1,\r\n            \"legendFormat\":
    \"Usage (pod={{pod}}, container={{container}})\",\r\n            \"metric\": \"container_memory_usage:sort_desc\",\r\n
    \           \"refId\": \"A\",\r\n            \"step\": 10\r\n          },\r\n
    \         {\r\n            \"expr\": \"min(kube_pod_container_resource_limits_memory_bytes{pod=~\\\"loki.*\\\"})\",\r\n
    \           \"interval\": \"\",\r\n            \"legendFormat\": \"Limit\",\r\n
    \           \"refId\": \"B\"\r\n          },\r\n          {\r\n            \"expr\":
    \"min(kube_pod_container_resource_requests_memory_bytes{pod=~\\\"loki.*\\\"})\",\r\n
    \           \"interval\": \"\",\r\n            \"legendFormat\": \"Request\",\r\n
    \           \"refId\": \"C\"\r\n          }\r\n        ],\r\n        \"thresholds\":
    [],\r\n        \"timeFrom\": null,\r\n        \"timeRegions\": [],\r\n        \"timeShift\":
    null,\r\n        \"title\": \"Loki memory usage vs Kubernetes limit and request\",\r\n
    \       \"tooltip\": {\r\n          \"msResolution\": false,\r\n          \"shared\":
    true,\r\n          \"sort\": 2,\r\n          \"value_type\": \"cumulative\"\r\n
    \       },\r\n        \"type\": \"graph\",\r\n        \"xaxis\": {\r\n          \"buckets\":
    null,\r\n          \"mode\": \"time\",\r\n          \"name\": null,\r\n          \"show\":
    true,\r\n          \"values\": []\r\n        },\r\n        \"yaxes\": [\r\n          {\r\n
    \           \"$$hashKey\": \"object:581\",\r\n            \"format\": \"bytes\",\r\n
    \           \"label\": null,\r\n            \"logBase\": 1,\r\n            \"max\":
    null,\r\n            \"min\": \"0\",\r\n            \"show\": true\r\n          },\r\n
    \         {\r\n            \"$$hashKey\": \"object:582\",\r\n            \"format\":
    \"short\",\r\n            \"label\": null,\r\n            \"logBase\": 1,\r\n
    \           \"max\": null,\r\n            \"min\": null,\r\n            \"show\":
    false\r\n          }\r\n        ],\r\n        \"yaxis\": {\r\n          \"align\":
    false,\r\n          \"alignLevel\": null\r\n        }\r\n      },\r\n      {\r\n
    \       \"alert\": {\r\n          \"alertRuleTags\": {},\r\n          \"conditions\":
    [\r\n            {\r\n              \"evaluator\": {\r\n                \"params\":
    [\r\n                  80\r\n                ],\r\n                \"type\": \"gt\"\r\n
    \             },\r\n              \"operator\": {\r\n                \"type\":
    \"and\"\r\n              },\r\n              \"query\": {\r\n                \"params\":
    [\r\n                  \"A\",\r\n                  \"5m\",\r\n                  \"now\"\r\n
    \               ]\r\n              },\r\n              \"reducer\": {\r\n                \"params\":
    [],\r\n                \"type\": \"avg\"\r\n              },\r\n              \"type\":
    \"query\"\r\n            }\r\n          ],\r\n          \"executionErrorState\":
    \"keep_state\",\r\n          \"for\": \"5m\",\r\n          \"frequency\": \"1m\",\r\n
    \         \"handler\": 1,\r\n          \"name\": \"Promtail memory usage is above
    80% of the defined limit\",\r\n          \"noDataState\": \"no_data\",\r\n          \"notifications\":
    []\r\n        },\r\n        \"aliasColors\": {},\r\n        \"bars\": false,\r\n
    \       \"dashLength\": 10,\r\n        \"dashes\": false,\r\n        \"datasource\":
    \"Prometheus\",\r\n        \"decimals\": 2,\r\n        \"description\": \"Percentage
    of actual usage over configured limit\",\r\n        \"editable\": true,\r\n        \"error\":
    false,\r\n        \"fieldConfig\": {\r\n          \"defaults\": {\r\n            \"links\":
    []\r\n          },\r\n          \"overrides\": []\r\n        },\r\n        \"fill\":
    0,\r\n        \"fillGradient\": 0,\r\n        \"grid\": {},\r\n        \"gridPos\":
    {\r\n          \"h\": 6,\r\n          \"w\": 24,\r\n          \"x\": 0,\r\n          \"y\":
    59\r\n        },\r\n        \"hiddenSeries\": false,\r\n        \"id\": 772,\r\n
    \       \"isNew\": true,\r\n        \"legend\": {\r\n          \"alignAsTable\":
    false,\r\n          \"avg\": false,\r\n          \"current\": false,\r\n          \"max\":
    false,\r\n          \"min\": false,\r\n          \"rightSide\": false,\r\n          \"show\":
    true,\r\n          \"sideWidth\": 200,\r\n          \"sort\": \"current\",\r\n
    \         \"sortDesc\": true,\r\n          \"total\": false,\r\n          \"values\":
    false\r\n        },\r\n        \"lines\": true,\r\n        \"linewidth\": 2,\r\n
    \       \"links\": [],\r\n        \"nullPointMode\": \"connected\",\r\n        \"options\":
    {\r\n          \"alertThreshold\": true\r\n        },\r\n        \"percentage\":
    false,\r\n        \"pluginVersion\": \"7.5.5\",\r\n        \"pointradius\": 5,\r\n
    \       \"points\": false,\r\n        \"renderer\": \"flot\",\r\n        \"seriesOverrides\":
    [],\r\n        \"spaceLength\": 10,\r\n        \"stack\": false,\r\n        \"steppedLine\":
    false,\r\n        \"targets\": [\r\n          {\r\n            \"expr\": \"100*
    max by(pod,container) (container_memory_working_set_bytes{container!=\\\"\\\",container!=\\\"POD\\\",pod=~\\\"promtail.*\\\"})\\n/\\non
    (pod,container) (kube_pod_container_resource_limits_memory_bytes{pod=~\\\"promtail.*\\\"})\",\r\n
    \           \"hide\": false,\r\n            \"interval\": \"\",\r\n            \"legendFormat\":
    \"\",\r\n            \"refId\": \"A\"\r\n          }\r\n        ],\r\n        \"thresholds\":
    [\r\n          {\r\n            \"colorMode\": \"critical\",\r\n            \"fill\":
    true,\r\n            \"line\": true,\r\n            \"op\": \"gt\",\r\n            \"value\":
    80,\r\n            \"visible\": true\r\n          }\r\n        ],\r\n        \"timeFrom\":
    null,\r\n        \"timeRegions\": [],\r\n        \"timeShift\": null,\r\n        \"title\":
    \"Promtail memory usage (% of Kubernetes memory limit)\",\r\n        \"tooltip\":
    {\r\n          \"msResolution\": false,\r\n          \"shared\": true,\r\n          \"sort\":
    2,\r\n          \"value_type\": \"cumulative\"\r\n        },\r\n        \"type\":
    \"graph\",\r\n        \"xaxis\": {\r\n          \"buckets\": null,\r\n          \"mode\":
    \"time\",\r\n          \"name\": null,\r\n          \"show\": true,\r\n          \"values\":
    []\r\n        },\r\n        \"yaxes\": [\r\n          {\r\n            \"$$hashKey\":
    \"object:335\",\r\n            \"format\": \"percent\",\r\n            \"label\":
    null,\r\n            \"logBase\": 1,\r\n            \"max\": \"100\",\r\n            \"min\":
    \"0\",\r\n            \"show\": true\r\n          },\r\n          {\r\n            \"$$hashKey\":
    \"object:336\",\r\n            \"format\": \"short\",\r\n            \"label\":
    null,\r\n            \"logBase\": 1,\r\n            \"max\": null,\r\n            \"min\":
    null,\r\n            \"show\": false\r\n          }\r\n        ],\r\n        \"yaxis\":
    {\r\n          \"align\": false,\r\n          \"alignLevel\": null\r\n        }\r\n
    \     },\r\n      {\r\n        \"aliasColors\": {},\r\n        \"bars\": false,\r\n
    \       \"dashLength\": 10,\r\n        \"dashes\": false,\r\n        \"datasource\":
    \"Prometheus\",\r\n        \"decimals\": 2,\r\n        \"editable\": true,\r\n
    \       \"error\": false,\r\n        \"fieldConfig\": {\r\n          \"defaults\":
    {\r\n            \"links\": []\r\n          },\r\n          \"overrides\": []\r\n
    \       },\r\n        \"fill\": 0,\r\n        \"fillGradient\": 0,\r\n        \"grid\":
    {},\r\n        \"gridPos\": {\r\n          \"h\": 6,\r\n          \"w\": 24,\r\n
    \         \"x\": 0,\r\n          \"y\": 65\r\n        },\r\n        \"hiddenSeries\":
    false,\r\n        \"id\": 1103,\r\n        \"isNew\": true,\r\n        \"legend\":
    {\r\n          \"alignAsTable\": false,\r\n          \"avg\": false,\r\n          \"current\":
    false,\r\n          \"max\": false,\r\n          \"min\": false,\r\n          \"rightSide\":
    false,\r\n          \"show\": true,\r\n          \"sideWidth\": 200,\r\n          \"sort\":
    \"current\",\r\n          \"sortDesc\": true,\r\n          \"total\": false,\r\n
    \         \"values\": false\r\n        },\r\n        \"lines\": true,\r\n        \"linewidth\":
    2,\r\n        \"links\": [],\r\n        \"nullPointMode\": \"connected\",\r\n
    \       \"options\": {\r\n          \"alertThreshold\": true\r\n        },\r\n
    \       \"percentage\": false,\r\n        \"pluginVersion\": \"7.5.5\",\r\n        \"pointradius\":
    5,\r\n        \"points\": false,\r\n        \"renderer\": \"flot\",\r\n        \"seriesOverrides\":
    [\r\n          {\r\n            \"alias\": \"Limit\",\r\n            \"color\":
    \"rgba(255, 255, 255, 0.56)\",\r\n            \"dashes\": true\r\n          },\r\n
    \         {\r\n            \"alias\": \"Request\",\r\n            \"color\": \"rgba(255,
    255, 255, 0.78)\"\r\n          },\r\n          {\r\n            \"alias\": \"Usage\",\r\n
    \           \"fill\": 1\r\n          }\r\n        ],\r\n        \"spaceLength\":
    10,\r\n        \"stack\": false,\r\n        \"steppedLine\": false,\r\n        \"targets\":
    [\r\n          {\r\n            \"expr\": \"container_memory_working_set_bytes{container!=\\\"\\\",container!=\\\"POD\\\",pod=~\\\"promtail.*\\\"}\",\r\n
    \           \"interval\": \"10s\",\r\n            \"intervalFactor\": 1,\r\n            \"legendFormat\":
    \"Usage (pod={{pod}}, container={{container}})\",\r\n            \"metric\": \"container_memory_usage:sort_desc\",\r\n
    \           \"refId\": \"A\",\r\n            \"step\": 10\r\n          },\r\n
    \         {\r\n            \"expr\": \"min(kube_pod_container_resource_limits_memory_bytes{pod=~\\\"promtail.*\\\"})\",\r\n
    \           \"interval\": \"\",\r\n            \"legendFormat\": \"Limit\",\r\n
    \           \"refId\": \"B\"\r\n          },\r\n          {\r\n            \"expr\":
    \"min(kube_pod_container_resource_requests_memory_bytes{pod=~\\\"promtail.*\\\"})\",\r\n
    \           \"interval\": \"\",\r\n            \"legendFormat\": \"Request\",\r\n
    \           \"refId\": \"C\"\r\n          }\r\n        ],\r\n        \"thresholds\":
    [],\r\n        \"timeFrom\": null,\r\n        \"timeRegions\": [],\r\n        \"timeShift\":
    null,\r\n        \"title\": \"Promtail memory usage vs Kubernetes limit and request\",\r\n
    \       \"tooltip\": {\r\n          \"msResolution\": false,\r\n          \"shared\":
    true,\r\n          \"sort\": 2,\r\n          \"value_type\": \"cumulative\"\r\n
    \       },\r\n        \"type\": \"graph\",\r\n        \"xaxis\": {\r\n          \"buckets\":
    null,\r\n          \"mode\": \"time\",\r\n          \"name\": null,\r\n          \"show\":
    true,\r\n          \"values\": []\r\n        },\r\n        \"yaxes\": [\r\n          {\r\n
    \           \"$$hashKey\": \"object:581\",\r\n            \"format\": \"bytes\",\r\n
    \           \"label\": null,\r\n            \"logBase\": 1,\r\n            \"max\":
    null,\r\n            \"min\": \"0\",\r\n            \"show\": true\r\n          },\r\n
    \         {\r\n            \"$$hashKey\": \"object:582\",\r\n            \"format\":
    \"short\",\r\n            \"label\": null,\r\n            \"logBase\": 1,\r\n
    \           \"max\": null,\r\n            \"min\": null,\r\n            \"show\":
    false\r\n          }\r\n        ],\r\n        \"yaxis\": {\r\n          \"align\":
    false,\r\n          \"alignLevel\": null\r\n        }\r\n      },\r\n      {\r\n
    \       \"collapsed\": false,\r\n        \"datasource\": \"Prometheus\",\r\n        \"gridPos\":
    {\r\n          \"h\": 1,\r\n          \"w\": 24,\r\n          \"x\": 0,\r\n          \"y\":
    71\r\n        },\r\n        \"id\": 8,\r\n        \"panels\": [],\r\n        \"title\":
    \"CPU Usage\",\r\n        \"type\": \"row\"\r\n      },\r\n      {\r\n        \"alert\":
    {\r\n          \"alertRuleTags\": {},\r\n          \"conditions\": [\r\n            {\r\n
    \             \"evaluator\": {\r\n                \"params\": [\r\n                  80\r\n
    \               ],\r\n                \"type\": \"gt\"\r\n              },\r\n
    \             \"operator\": {\r\n                \"type\": \"and\"\r\n              },\r\n
    \             \"query\": {\r\n                \"params\": [\r\n                  \"A\",\r\n
    \                 \"5m\",\r\n                  \"now\"\r\n                ]\r\n
    \             },\r\n              \"reducer\": {\r\n                \"params\":
    [],\r\n                \"type\": \"avg\"\r\n              },\r\n              \"type\":
    \"query\"\r\n            }\r\n          ],\r\n          \"executionErrorState\":
    \"keep_state\",\r\n          \"for\": \"1m\",\r\n          \"frequency\": \"1m\",\r\n
    \         \"handler\": 1,\r\n          \"name\": \"Loki CPU usage is above 80%
    of the defined limit\",\r\n          \"noDataState\": \"no_data\",\r\n          \"notifications\":
    []\r\n        },\r\n        \"aliasColors\": {},\r\n        \"bars\": false,\r\n
    \       \"dashLength\": 10,\r\n        \"dashes\": false,\r\n        \"datasource\":
    \"Prometheus\",\r\n        \"decimals\": 3,\r\n        \"description\": \"percentage
    of configured limit\",\r\n        \"editable\": true,\r\n        \"error\": false,\r\n
    \       \"fieldConfig\": {\r\n          \"defaults\": {\r\n            \"links\":
    []\r\n          },\r\n          \"overrides\": []\r\n        },\r\n        \"fill\":
    0,\r\n        \"fillGradient\": 0,\r\n        \"grid\": {},\r\n        \"gridPos\":
    {\r\n          \"h\": 6,\r\n          \"w\": 24,\r\n          \"x\": 0,\r\n          \"y\":
    72\r\n        },\r\n        \"height\": \"\",\r\n        \"hiddenSeries\": false,\r\n
    \       \"id\": 347,\r\n        \"isNew\": true,\r\n        \"legend\": {\r\n
    \         \"alignAsTable\": false,\r\n          \"avg\": false,\r\n          \"current\":
    false,\r\n          \"max\": false,\r\n          \"min\": false,\r\n          \"rightSide\":
    false,\r\n          \"show\": true,\r\n          \"sort\": null,\r\n          \"sortDesc\":
    null,\r\n          \"total\": false,\r\n          \"values\": false\r\n        },\r\n
    \       \"lines\": true,\r\n        \"linewidth\": 2,\r\n        \"links\": [],\r\n
    \       \"nullPointMode\": \"connected\",\r\n        \"options\": {\r\n          \"alertThreshold\":
    true\r\n        },\r\n        \"percentage\": false,\r\n        \"pluginVersion\":
    \"7.5.5\",\r\n        \"pointradius\": 5,\r\n        \"points\": false,\r\n        \"renderer\":
    \"flot\",\r\n        \"seriesOverrides\": [],\r\n        \"spaceLength\": 10,\r\n
    \       \"stack\": false,\r\n        \"steppedLine\": false,\r\n        \"targets\":
    [\r\n          {\r\n            \"expr\": \"100* rate(container_cpu_usage_seconds_total{container!=\\\"POD\\\",container!=\\\"\\\",pod=~\\\"loki.*\\\"}[1m])\\n/\\non
    (pod,container) kube_pod_container_resource_limits_cpu_cores{container=\\\"loki\\\"}\",\r\n
    \           \"interval\": \"10s\",\r\n            \"intervalFactor\": 1,\r\n            \"legendFormat\":
    \"\",\r\n            \"metric\": \"container_cpu\",\r\n            \"refId\":
    \"A\",\r\n            \"step\": 10\r\n          }\r\n        ],\r\n        \"thresholds\":
    [\r\n          {\r\n            \"colorMode\": \"critical\",\r\n            \"fill\":
    true,\r\n            \"line\": true,\r\n            \"op\": \"gt\",\r\n            \"value\":
    80,\r\n            \"visible\": true\r\n          }\r\n        ],\r\n        \"timeFrom\":
    null,\r\n        \"timeRegions\": [],\r\n        \"timeShift\": null,\r\n        \"title\":
    \"Loki CPU usage (% of Kubernetes CPU limit)\",\r\n        \"tooltip\": {\r\n
    \         \"msResolution\": true,\r\n          \"shared\": true,\r\n          \"sort\":
    2,\r\n          \"value_type\": \"cumulative\"\r\n        },\r\n        \"type\":
    \"graph\",\r\n        \"xaxis\": {\r\n          \"buckets\": null,\r\n          \"mode\":
    \"time\",\r\n          \"name\": null,\r\n          \"show\": true,\r\n          \"values\":
    []\r\n        },\r\n        \"yaxes\": [\r\n          {\r\n            \"$$hashKey\":
    \"object:413\",\r\n            \"format\": \"percent\",\r\n            \"label\":
    \"cores\",\r\n            \"logBase\": 1,\r\n            \"max\": \"100\",\r\n
    \           \"min\": \"0\",\r\n            \"show\": true\r\n          },\r\n
    \         {\r\n            \"$$hashKey\": \"object:414\",\r\n            \"format\":
    \"short\",\r\n            \"label\": null,\r\n            \"logBase\": 1,\r\n
    \           \"max\": null,\r\n            \"min\": null,\r\n            \"show\":
    false\r\n          }\r\n        ],\r\n        \"yaxis\": {\r\n          \"align\":
    false,\r\n          \"alignLevel\": null\r\n        }\r\n      },\r\n      {\r\n
    \       \"aliasColors\": {},\r\n        \"bars\": false,\r\n        \"dashLength\":
    10,\r\n        \"dashes\": false,\r\n        \"datasource\": \"Prometheus\",\r\n
    \       \"decimals\": 3,\r\n        \"description\": \"\",\r\n        \"editable\":
    true,\r\n        \"error\": false,\r\n        \"fieldConfig\": {\r\n          \"defaults\":
    {\r\n            \"links\": []\r\n          },\r\n          \"overrides\": []\r\n
    \       },\r\n        \"fill\": 0,\r\n        \"fillGradient\": 0,\r\n        \"grid\":
    {},\r\n        \"gridPos\": {\r\n          \"h\": 6,\r\n          \"w\": 24,\r\n
    \         \"x\": 0,\r\n          \"y\": 78\r\n        },\r\n        \"height\":
    \"\",\r\n        \"hiddenSeries\": false,\r\n        \"id\": 6,\r\n        \"isNew\":
    true,\r\n        \"legend\": {\r\n          \"alignAsTable\": false,\r\n          \"avg\":
    false,\r\n          \"current\": false,\r\n          \"max\": false,\r\n          \"min\":
    false,\r\n          \"rightSide\": false,\r\n          \"show\": true,\r\n          \"sort\":
    null,\r\n          \"sortDesc\": null,\r\n          \"total\": false,\r\n          \"values\":
    false\r\n        },\r\n        \"lines\": true,\r\n        \"linewidth\": 2,\r\n
    \       \"links\": [],\r\n        \"nullPointMode\": \"connected\",\r\n        \"options\":
    {\r\n          \"alertThreshold\": true\r\n        },\r\n        \"percentage\":
    false,\r\n        \"pluginVersion\": \"7.5.5\",\r\n        \"pointradius\": 5,\r\n
    \       \"points\": false,\r\n        \"renderer\": \"flot\",\r\n        \"repeat\":
    null,\r\n        \"seriesOverrides\": [\r\n          {\r\n            \"alias\":
    \"CPU Limit\",\r\n            \"color\": \"rgba(255, 255, 255, 0.46)\",\r\n            \"dashes\":
    true\r\n          },\r\n          {\r\n            \"alias\": \"CPU Request\",\r\n
    \           \"color\": \"rgba(255, 255, 255, 0.54)\"\r\n          },\r\n          {\r\n
    \           \"alias\": \"Usage\",\r\n            \"fill\": 1\r\n          }\r\n
    \       ],\r\n        \"spaceLength\": 10,\r\n        \"stack\": false,\r\n        \"steppedLine\":
    false,\r\n        \"targets\": [\r\n          {\r\n            \"expr\": \"rate(container_cpu_usage_seconds_total{container!=\\\"\\\",container!=\\\"POD\\\",pod=~\\\"loki.*\\\"}[1m])\",\r\n
    \           \"interval\": \"10s\",\r\n            \"intervalFactor\": 1,\r\n            \"legendFormat\":
    \"CPU Usage (pod={{pod}}, container={{container}})\",\r\n            \"metric\":
    \"container_cpu\",\r\n            \"refId\": \"A\",\r\n            \"step\": 10\r\n
    \         },\r\n          {\r\n            \"expr\": \"min(kube_pod_container_resource_limits_cpu_cores{pod=~\\\"loki.*\\\"})\",\r\n
    \           \"interval\": \"\",\r\n            \"legendFormat\": \"CPU Limit\",\r\n
    \           \"refId\": \"B\"\r\n          },\r\n          {\r\n            \"expr\":
    \"min(kube_pod_container_resource_requests_cpu_cores{pod=~\\\"loki.*\\\"})\",\r\n
    \           \"hide\": false,\r\n            \"interval\": \"\",\r\n            \"legendFormat\":
    \"CPU Request\",\r\n            \"refId\": \"C\"\r\n          }\r\n        ],\r\n
    \       \"thresholds\": [],\r\n        \"timeFrom\": null,\r\n        \"timeRegions\":
    [],\r\n        \"timeShift\": null,\r\n        \"title\": \"Loki CPU usage vs
    Kubernetes limit and request\",\r\n        \"tooltip\": {\r\n          \"msResolution\":
    true,\r\n          \"shared\": true,\r\n          \"sort\": 2,\r\n          \"value_type\":
    \"cumulative\"\r\n        },\r\n        \"type\": \"graph\",\r\n        \"xaxis\":
    {\r\n          \"buckets\": null,\r\n          \"mode\": \"time\",\r\n          \"name\":
    null,\r\n          \"show\": true,\r\n          \"values\": []\r\n        },\r\n
    \       \"yaxes\": [\r\n          {\r\n            \"$$hashKey\": \"object:666\",\r\n
    \           \"format\": \"none\",\r\n            \"label\": \"cores\",\r\n            \"logBase\":
    1,\r\n            \"max\": null,\r\n            \"min\": \"0\",\r\n            \"show\":
    true\r\n          },\r\n          {\r\n            \"$$hashKey\": \"object:667\",\r\n
    \           \"format\": \"short\",\r\n            \"label\": null,\r\n            \"logBase\":
    1,\r\n            \"max\": null,\r\n            \"min\": null,\r\n            \"show\":
    false\r\n          }\r\n        ],\r\n        \"yaxis\": {\r\n          \"align\":
    false,\r\n          \"alignLevel\": null\r\n        }\r\n      },\r\n      {\r\n
    \       \"alert\": {\r\n          \"alertRuleTags\": {},\r\n          \"conditions\":
    [\r\n            {\r\n              \"evaluator\": {\r\n                \"params\":
    [\r\n                  80\r\n                ],\r\n                \"type\": \"gt\"\r\n
    \             },\r\n              \"operator\": {\r\n                \"type\":
    \"and\"\r\n              },\r\n              \"query\": {\r\n                \"params\":
    [\r\n                  \"A\",\r\n                  \"5m\",\r\n                  \"now\"\r\n
    \               ]\r\n              },\r\n              \"reducer\": {\r\n                \"params\":
    [],\r\n                \"type\": \"avg\"\r\n              },\r\n              \"type\":
    \"query\"\r\n            }\r\n          ],\r\n          \"executionErrorState\":
    \"keep_state\",\r\n          \"for\": \"5m\",\r\n          \"frequency\": \"1m\",\r\n
    \         \"handler\": 1,\r\n          \"name\": \"Promtail CPU usage is above
    80% of the defined limit\",\r\n          \"noDataState\": \"no_data\",\r\n          \"notifications\":
    []\r\n        },\r\n        \"aliasColors\": {},\r\n        \"bars\": false,\r\n
    \       \"dashLength\": 10,\r\n        \"dashes\": false,\r\n        \"datasource\":
    \"Prometheus\",\r\n        \"decimals\": 3,\r\n        \"description\": \"percentage
    of configured limit\",\r\n        \"editable\": true,\r\n        \"error\": false,\r\n
    \       \"fieldConfig\": {\r\n          \"defaults\": {\r\n            \"links\":
    []\r\n          },\r\n          \"overrides\": []\r\n        },\r\n        \"fill\":
    0,\r\n        \"fillGradient\": 0,\r\n        \"grid\": {},\r\n        \"gridPos\":
    {\r\n          \"h\": 6,\r\n          \"w\": 24,\r\n          \"x\": 0,\r\n          \"y\":
    84\r\n        },\r\n        \"height\": \"\",\r\n        \"hiddenSeries\": false,\r\n
    \       \"id\": 910,\r\n        \"isNew\": true,\r\n        \"legend\": {\r\n
    \         \"alignAsTable\": false,\r\n          \"avg\": false,\r\n          \"current\":
    false,\r\n          \"max\": false,\r\n          \"min\": false,\r\n          \"rightSide\":
    false,\r\n          \"show\": true,\r\n          \"sort\": null,\r\n          \"sortDesc\":
    null,\r\n          \"total\": false,\r\n          \"values\": false\r\n        },\r\n
    \       \"lines\": true,\r\n        \"linewidth\": 2,\r\n        \"links\": [],\r\n
    \       \"nullPointMode\": \"connected\",\r\n        \"options\": {\r\n          \"alertThreshold\":
    true\r\n        },\r\n        \"percentage\": false,\r\n        \"pluginVersion\":
    \"7.5.5\",\r\n        \"pointradius\": 5,\r\n        \"points\": false,\r\n        \"renderer\":
    \"flot\",\r\n        \"seriesOverrides\": [],\r\n        \"spaceLength\": 10,\r\n
    \       \"stack\": false,\r\n        \"steppedLine\": false,\r\n        \"targets\":
    [\r\n          {\r\n            \"expr\": \"100 * rate(container_cpu_usage_seconds_total{container!=\\\"\\\",container!=\\\"POD\\\",pod=~\\\"promtail.*\\\"}[1m])\\n/\\non
    (pod,container) kube_pod_container_resource_limits_cpu_cores{pod=~\\\"promtail.*\\\"}\",\r\n
    \           \"interval\": \"10s\",\r\n            \"intervalFactor\": 1,\r\n            \"legendFormat\":
    \"\",\r\n            \"metric\": \"container_cpu\",\r\n            \"refId\":
    \"A\",\r\n            \"step\": 10\r\n          }\r\n        ],\r\n        \"thresholds\":
    [\r\n          {\r\n            \"colorMode\": \"critical\",\r\n            \"fill\":
    true,\r\n            \"line\": true,\r\n            \"op\": \"gt\",\r\n            \"value\":
    80,\r\n            \"visible\": true\r\n          }\r\n        ],\r\n        \"timeFrom\":
    null,\r\n        \"timeRegions\": [],\r\n        \"timeShift\": null,\r\n        \"title\":
    \"Promtail CPU usage (% of Kubernetes limit)\",\r\n        \"tooltip\": {\r\n
    \         \"msResolution\": true,\r\n          \"shared\": true,\r\n          \"sort\":
    2,\r\n          \"value_type\": \"cumulative\"\r\n        },\r\n        \"type\":
    \"graph\",\r\n        \"xaxis\": {\r\n          \"buckets\": null,\r\n          \"mode\":
    \"time\",\r\n          \"name\": null,\r\n          \"show\": true,\r\n          \"values\":
    []\r\n        },\r\n        \"yaxes\": [\r\n          {\r\n            \"$$hashKey\":
    \"object:231\",\r\n            \"format\": \"percent\",\r\n            \"label\":
    \"cores\",\r\n            \"logBase\": 1,\r\n            \"max\": \"100\",\r\n
    \           \"min\": \"0\",\r\n            \"show\": true\r\n          },\r\n
    \         {\r\n            \"$$hashKey\": \"object:232\",\r\n            \"format\":
    \"short\",\r\n            \"label\": null,\r\n            \"logBase\": 1,\r\n
    \           \"max\": null,\r\n            \"min\": null,\r\n            \"show\":
    false\r\n          }\r\n        ],\r\n        \"yaxis\": {\r\n          \"align\":
    false,\r\n          \"alignLevel\": null\r\n        }\r\n      },\r\n      {\r\n
    \       \"aliasColors\": {},\r\n        \"bars\": false,\r\n        \"dashLength\":
    10,\r\n        \"dashes\": false,\r\n        \"datasource\": \"Prometheus\",\r\n
    \       \"decimals\": 3,\r\n        \"description\": \"\",\r\n        \"editable\":
    true,\r\n        \"error\": false,\r\n        \"fieldConfig\": {\r\n          \"defaults\":
    {\r\n            \"links\": []\r\n          },\r\n          \"overrides\": []\r\n
    \       },\r\n        \"fill\": 0,\r\n        \"fillGradient\": 0,\r\n        \"grid\":
    {},\r\n        \"gridPos\": {\r\n          \"h\": 6,\r\n          \"w\": 24,\r\n
    \         \"x\": 0,\r\n          \"y\": 90\r\n        },\r\n        \"height\":
    \"\",\r\n        \"hiddenSeries\": false,\r\n        \"id\": 1104,\r\n        \"isNew\":
    true,\r\n        \"legend\": {\r\n          \"alignAsTable\": false,\r\n          \"avg\":
    false,\r\n          \"current\": false,\r\n          \"max\": false,\r\n          \"min\":
    false,\r\n          \"rightSide\": false,\r\n          \"show\": true,\r\n          \"sort\":
    null,\r\n          \"sortDesc\": null,\r\n          \"total\": false,\r\n          \"values\":
    false\r\n        },\r\n        \"lines\": true,\r\n        \"linewidth\": 2,\r\n
    \       \"links\": [],\r\n        \"nullPointMode\": \"connected\",\r\n        \"options\":
    {\r\n          \"alertThreshold\": true\r\n        },\r\n        \"percentage\":
    false,\r\n        \"pluginVersion\": \"7.5.5\",\r\n        \"pointradius\": 5,\r\n
    \       \"points\": false,\r\n        \"renderer\": \"flot\",\r\n        \"seriesOverrides\":
    [\r\n          {\r\n            \"alias\": \"CPU Limit\",\r\n            \"color\":
    \"rgba(255, 255, 255, 0.46)\",\r\n            \"dashes\": true\r\n          },\r\n
    \         {\r\n            \"alias\": \"CPU Request\",\r\n            \"color\":
    \"rgba(255, 255, 255, 0.54)\"\r\n          },\r\n          {\r\n            \"alias\":
    \"Usage\",\r\n            \"fill\": 1\r\n          }\r\n        ],\r\n        \"spaceLength\":
    10,\r\n        \"stack\": false,\r\n        \"steppedLine\": false,\r\n        \"targets\":
    [\r\n          {\r\n            \"expr\": \"rate(container_cpu_usage_seconds_total{container!=\\\"\\\",container!=\\\"POD\\\",pod=~\\\"promtail.*\\\"}[1m])\",\r\n
    \           \"interval\": \"10s\",\r\n            \"intervalFactor\": 1,\r\n            \"legendFormat\":
    \"CPU Usage (pod={{pod}}, container={{container}})\",\r\n            \"metric\":
    \"container_cpu\",\r\n            \"refId\": \"A\",\r\n            \"step\": 10\r\n
    \         },\r\n          {\r\n            \"expr\": \"min(kube_pod_container_resource_limits_cpu_cores{pod=~\\\"promtail.*\\\"})\",\r\n
    \           \"interval\": \"\",\r\n            \"legendFormat\": \"CPU Limit\",\r\n
    \           \"refId\": \"B\"\r\n          },\r\n          {\r\n            \"expr\":
    \"min(kube_pod_container_resource_requests_cpu_cores{pod=~\\\"promtail.*\\\"})\",\r\n
    \           \"hide\": false,\r\n            \"interval\": \"\",\r\n            \"legendFormat\":
    \"CPU Request\",\r\n            \"refId\": \"C\"\r\n          }\r\n        ],\r\n
    \       \"thresholds\": [],\r\n        \"timeFrom\": null,\r\n        \"timeRegions\":
    [],\r\n        \"timeShift\": null,\r\n        \"title\": \"Promtail CPU usage
    vs Kubernetes limit and request\",\r\n        \"tooltip\": {\r\n          \"msResolution\":
    true,\r\n          \"shared\": true,\r\n          \"sort\": 2,\r\n          \"value_type\":
    \"cumulative\"\r\n        },\r\n        \"type\": \"graph\",\r\n        \"xaxis\":
    {\r\n          \"buckets\": null,\r\n          \"mode\": \"time\",\r\n          \"name\":
    null,\r\n          \"show\": true,\r\n          \"values\": []\r\n        },\r\n
    \       \"yaxes\": [\r\n          {\r\n            \"$$hashKey\": \"object:666\",\r\n
    \           \"format\": \"none\",\r\n            \"label\": \"cores\",\r\n            \"logBase\":
    1,\r\n            \"max\": null,\r\n            \"min\": \"0\",\r\n            \"show\":
    true\r\n          },\r\n          {\r\n            \"$$hashKey\": \"object:667\",\r\n
    \           \"format\": \"short\",\r\n            \"label\": null,\r\n            \"logBase\":
    1,\r\n            \"max\": null,\r\n            \"min\": null,\r\n            \"show\":
    false\r\n          }\r\n        ],\r\n        \"yaxis\": {\r\n          \"align\":
    false,\r\n          \"alignLevel\": null\r\n        }\r\n      }\r\n    ],\r\n
    \   \"refresh\": \"1m\",\r\n    \"schemaVersion\": 27,\r\n    \"style\": \"dark\",\r\n
    \   \"tags\": [\r\n      \"tools\",\r\n      \"loki\"\r\n    ],\r\n    \"templating\":
    {\r\n      \"list\": []\r\n    },\r\n    \"time\": {\r\n      \"from\": \"now-24h\",\r\n
    \     \"to\": \"now\"\r\n    },\r\n    \"timepicker\": {\r\n      \"refresh_intervals\":
    [\r\n        \"10s\",\r\n        \"30s\",\r\n        \"1m\",\r\n        \"5m\",\r\n
    \       \"15m\",\r\n        \"30m\",\r\n        \"1h\",\r\n        \"2h\",\r\n
    \       \"1d\"\r\n      ],\r\n      \"time_options\": [\r\n        \"5m\",\r\n
    \       \"15m\",\r\n        \"1h\",\r\n        \"6h\",\r\n        \"12h\",\r\n
    \       \"24h\",\r\n        \"2d\",\r\n        \"7d\",\r\n        \"30d\"\r\n
    \     ]\r\n    },\r\n    \"timezone\": \"\",\r\n    \"title\": \"Loki stack monitoring
    (Promtail, Loki)\",\r\n    \"uid\": \"loki_stack_monitoring_quortex\",\r\n    \"version\":
    1\r\n  }"
