version: 1

# TODO not used
default:
  pr:
    tags: [dependencies]
    automerge: false
    # closes old prs for the same dependency
    autoclose: true
    # supports markdown
    description: "test me"

dependencies:
  - name: "Traefik"
    source:
      file: src/terraform/versions.yaml
      path: .helmversions["traefik"].chart_version
    repository:
      # TODO add support for [github] i.e. releases/tags
      type: artifacthub
      name: traefik/traefik
    # TODO override default
    pr:
      description: "todo"
  - name: "Cert-Manager"
    source:
      file: src/terraform/versions.yaml
      path: .helmversions["cert-manager"].chart_version
    repository:
      type: artifacthub
      name: cert-manager/cert-manager